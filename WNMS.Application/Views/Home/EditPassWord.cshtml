
@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>AdminLTE 2 | General Form Elements</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/css/AdminLTE.min.css" rel="stylesheet" />
    <link href="~/lib/jquery-validation/dist/validation.css" rel="stylesheet" />
</head>
<body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper" style="background-color:#ecf0f5">

        <section class="content">
            <div class="row">
                <div class="col-md-12">
                    <!-- Horizontal Form -->
                    <div class="box box-info" style="margin-bottom:0px">
                        <form id="myForm" class="form-horizontal" action="/Home/SavePassWord" data-ajax="true" data-ajax-method="post" data-ajax-begin="validateForm" data-ajax-success="MyForm.Success">

                            <div class="box-body">
                                <div class="form-group">
                                    <label for="old" class="col-sm-2 control-label">旧密码</label>
                                    <div class="col-sm-10">
                                        <input type="password" class="form-control" name="oldPassWord" placeholder="请输入旧密码">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputPassword3" class="col-sm-2 control-label">新密码</label>

                                    <div class="col-sm-10">
                                        <input type="password" class="form-control" id="myPassWord" name="myPassWord" placeholder="请输入新密码">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputPassword3" class="col-sm-2 control-label">确认密码</label>

                                    <div class="col-sm-10">
                                        <input type="password" class="form-control" name="newPassWord" placeholder="请确认新密码">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </section>


    </div>

    <script src="~/js/jquery-1.12.4.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.unobtrusive-ajax.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
    @*<script src="../../dist/js/adminlte.min.js"></script>*@
    <script>

        function MyForm() { }

        function saveForm(func) {
            MyForm.Success = func;
            $("#myForm").submit();
        }

        $(function () {
            validateForm();
        });

        function validateForm() {
            $("#myForm").validate({
                debug: true,
                ignore: "",
                rules: {
                    oldPassWord: "required",
                    myPassWord: "required",
                    newPassWord: {
                        required: true,
                        equalTo: "#myPassWord"
                    }
                },
                messages: {
                    oldPassWord: "请输入旧密码",
                    myPassWord: "请输入新密码",
                    newPassWord: {
                        required: "请输入确认密码",
                        equalTo: "确认密码与新密码不一致"
                    }
                }
            });
        }
    </script>
</body>
</html>

