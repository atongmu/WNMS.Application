
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>流量分析</title>
    <link rel="Shortcut Icon" href="~/UploadImg/Logo/logo.png" />
    <link href="../../DataV/css/css.css" rel="stylesheet" />
    <link href="~/css/ztreefont.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/iconfont.css">
    @*<link href="~/css/zlw.css" rel="stylesheet" />*@
    <link href="~/lib/ztree/diy/zTreeStyle02.css" rel="stylesheet" />
    <script src="../../js/jquery-1.12.4.min.js"></script>
    <script src="~/js/echarts.min.js"></script>
    <script src="../../DataV/js/jquery.kxbdMarquee.js"></script>
    <script src="~/DataV/ztree/jquery.ztree.core-3.5.js"></script>
    <script src="~/DataV/ztree/jquery.ztree.excheck-3.5.js"></script>
    <style>
        .ztree li a {
            color: #e4f4ff
        }

        .no-date {
            width: 100%;
            height: 100%;
            text-align: center;
            position: absolute;
            left: 0;
            top: 48%;
        }

            .no-date img {
                position: relative;
                top: -75px;
            }

            .no-date p {
                text-align: center;
                font-size: 14px;
                color: #fff;
                position: absolute;
                top: 85px;
                width: 100%;
            }

        .dp-search {
            height: 30px;
            border: 2px solid #07A6FF;
            border-radius: 5px;
            outline: none;
            background: transparent;
            line-height: 30px;
            color: #fff;
            width: 100%;
            text-indent: 10px;
            margin: 5px 0;
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-thumb {
            background-color: #999;
            background-clip: padding-box;
            min-height: 28px;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-track-piece {
            background-color: #fff;
        }

        .bzslzsbotrgczdcon img {margin-top: 0;}

        .bzslzstop {height: 18%;}
        .bzslzsbot {height: 82%;}

        .bzslzsbotrgtop {height: 50%;}
        .bzslzsbotrgbot {height: 50%;}

        .bzslzsbotrgbotlf,
        .bzslzsbotrgbotrg {
            float: none;
            width: 100%;
            height: 50%;
            padding: 0;
        }
        .bzslzsbotrgbotrg {padding-top: 6px;}

        .bzslzsbotrgbotlfkke span {line-height: 50%;}

        .bzslzstopconrg {padding: 0;}

    </style>
</head>
<body>
    <div class="zlw_content">
        <!-- star  body -->
        <div class="zlw_xnhfx  clearfloat">
            <div class="zlw_zcdw">
                <input id="stationName" type="text" placeholder="搜索泵房" class="dp-search" autocomplete="off" />
                <div id="treeDemo" class="ztree"></div>
            </div>
            <div class="zlw-content-lfdj"></div>
            <div class="zlw_nhfxcon">
                <!-- star 主体内容 -->
                <div class="zlw-nhfxcon">
                    <!-- star bzslzstop -->
                    <div class="bzslzstop">
                        <!-- 四个角直角 -->
                        <div class="dwtopl"></div>
                        <div class="dwtopr"></div>
                        <div class="dwbotl"></div>
                        <div class="dwbotr"></div>
                        <!-- 内容区 -->
                        <ul class="clearfloat">
                            <li class="clearfloat">
                                <div class="bzslzsdkk">
                                    <div class="bzslzstoptitle"><p>今日水量(m³)</p></div>
                                    <div class="bzslzstopcon clearfloat">
                                        <div class="bzslzstopconlf left">
                                            <p id="todayFlow">0.0</p>
                                        </div>
                                        <div class="bzslzstopconrg right">
                                            <div class="bzslzstopconrgyi" id="bzslzstopconrgyi"></div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="clearfloat">
                                <div class="bzslzsdkk">
                                    <div class="bzslzstoptitle"><p>昨日水量(m³)</p></div>
                                    <div class="bzslzstopcon clearfloat">
                                        <div class="bzslzstopconlf left">
                                            <p id="yesFlow">0.00</p>
                                        </div>
                                        <div class="bzslzstopconrg right">
                                            <div class="bzslzstopconrger" id="bzslzstopconrger"></div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="clearfloat">
                                <div class="bzslzsdkk">
                                    <div class="bzslzstoptitle"><p>本周水量(m³)</p></div>
                                    <div class="bzslzstopcon clearfloat">
                                        <div class="bzslzstopconlf left">
                                            <p id="weekFlow">0.00</p>
                                        </div>
                                        <div class="bzslzstopconrg right">
                                            <div class="bzslzstopconrgsan" id="bzslzstopconrgsan"></div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="clearfloat">
                                <div class="bzslzsdkk">
                                    <div class="bzslzstoptitle"><p>本月水量(m³)</p></div>
                                    <div class="bzslzstopcon clearfloat">
                                        <div class="bzslzstopconlf left">
                                            <p id="monthFlow">8106.00</p>
                                        </div>
                                        <div class="bzslzstopconrg right">
                                            <div class="bzslzstopconrgsi" id="bzslzstopconrgsi"></div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <script>
                                $(function () {
                                    var a = $(".bzslzstopconlf").height();
                                    $(".bzslzstopconlf p").css('line-height', a + 'px')
                                });
                                $(window).resize(function () {
                                    var a = $(".bzslzstopconlf").height();
                                    $(".bzslzstopconlf p").css('line-height', a + 'px')
                                });
                            </script>
                        </ul>
                    </div>
                    <!-- bzslzstop end -->
                    <!-- star bzslzsbot -->
                    <div class="bzslzsbot">
                        <div class="bzslzsbotlf left">
                            <div class="bzslzsbotlftop clearfloat">
                                <div class="bzslzsbotlftoplf left">
                                    <div class="bzslzsbotlftoplfc">
                                        <div class="dwtopl"></div>
                                        <div class="dwtopr"></div>
                                        <div class="dwbotl"></div>
                                        <div class="dwbotr"></div>
                                        <!-- 本年度水量统计 -->
                                        <div class="bzslzsbotlftoplfctitle">
                                            <p>本年度水量统计 <span>m<i>3</i></span></p>
                                        </div>
                                        <div class="bzslzsbotlftoplfccon">
                                            <div class="bzslzsbotlftoplfcconyi" id="bzslzsbotlftoplfcconyi"></div>
                                            <div class="no-date" id="nodata_thisyear" style="display:none">
                                                <img src="/images/zanwu.png" width="150" height="150" />
                                                <p>暂无数据</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="bzslzsbotlftoprg left">
                                    <div class="bzslzsbotlftoprgc">
                                        <div class="dwtopl"></div>
                                        <div class="dwtopr"></div>
                                        <div class="dwbotl"></div>
                                        <div class="dwbotr"></div>
                                        <!-- 本年度水量统计 -->
                                        <div class="bzslzsbotlftoplfctitle">
                                            <p>近一周水量统计 <span>m<i>3</i></span></p>
                                        </div>
                                        <div class="bzslzsbotlftoplfccon">
                                            <div class="bzslzsbotlftoprgcyi" id="bzslzsbotlftoprgcyi"></div>
                                            <div class="no-date" id="nodata_thisweek" style="display:none">
                                                <img src="/images/zanwu.png" width="150" height="150" />
                                                <p>暂无数据</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bzslzsbotlfbot">
                                <div class="bzslzsbotlfbotc">
                                    <div class="dwtopl"></div>
                                    <div class="dwtopr"></div>
                                    <div class="dwbotl"></div>
                                    <div class="dwbotr"></div>
                                    <div class="bzslzsbotlfbotck">
                                        <div class="bzslzsbotlfbotcklf">
                                            <div class="bzslzsbotlftoplfctitle">
                                                <p>周供水量对比 <span>m<i>3</i></span></p>
                                            </div>
                                            <div class="bzslzsbotlfbotcklfcon">
                                                <div class="bzslzsbotlfbotcklfcony" id="bzslzsbotlfbotcklfcony"></div>
                                            </div>
                                        </div>
                                        <div class="bzslzsbotlfbotckrg">
                                            <div class="bzslzsbotlftoplfctitle">
                                                <p>月供水量对比 <span>m<i>3</i></span></p>
                                            </div>
                                            <div class="bzslzsbotlfbotckrgcon">
                                                <div class="bzslzsbotlfbotckrgconyi" id="bzslzsbotlfbotckrgconyi"></div>
                                                <div class="no-date" id="nodata_thismonth" style="display:none">
                                                    <img src="/images/zanwu.png" width="150" height="150" />
                                                    <p>暂无数据</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bzslzsbotrg right">
                            <div class="bzslzsbotrgtop">
                                <div class="bzslzsbotrgc">
                                    <div class="dwtopl"></div>
                                    <div class="dwtopr"></div>
                                    <div class="dwbotl"></div>
                                    <div class="dwbotr"></div>
                                    <div class="bzslzsbotrgctitle">
                                        <p>同时段瞬时水量对比分析</p>
                                    </div>
                                    <div class="bzslzsbotrgczd">
                                        <ul class="clearfloat">
                                            <li>
                                                <div class="bzslzsbotrgczdcon cleatfloat">
                                                    <img src="~/DataV/images/zx.png" alt="">
                                                    <span>今日最小值</span>
                                                    <p id="mindata">0 <i>m³/h</i></p>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="bzslzsbotrgczdcon cleatfloat">
                                                    <img src="~/DataV/images/zd.png" alt="">
                                                    <span>今日最大值</span>
                                                    <p id="maxdata">0 <i>m³/h</i></p>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="bzslzsbotrgczdcon cleatfloat">
                                                    <img src="~/DataV/images/pj.png" alt="">
                                                    <span>今日平均值</span>
                                                    <p id="averagedata" title="">0 <i>m³/h</i></p>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="bzslzsbotrgcnr">
                                        <div class="bzslzsbotrgcnrt" id="bzslzsbotrgcnrt"></div>
                                        <div class="no-date" id="nodata_thistongshi" style="display:none;top:59%">
                                            <img src="/images/zanwu.png" width="150" height="150" />
                                            <p>暂无数据</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bzslzsbotrgbot clearfloat">
                                <div class="bzslzsbotrgbotlf left">
                                    <div class="bzslzsbotrgbotlfc">
                                        <div class="dwtopl"></div>
                                        <div class="dwtopr"></div>
                                        <div class="dwbotl"></div>
                                        <div class="dwbotr"></div>
                                        <div class="bzslzsbotrgbotlftitle">
                                            <p>近十天用水量增比</p>
                                        </div>
                                        <div class="bzslzsbotrgbotlfkk">
                                            <div class="bzslzsbotrgbotlfkky">
                                                <div class="bzslzsbotrgbotlfkkyhead clearfloat">
                                                    <span>顺序</span>
                                                    <span>时间</span>
                                                    <span>流量(m³)</span>
                                                    <span>增比</span>
                                                </div>
                                                <div class="bzslzsbotrgbotlfkkycon">
                                                    <div class="bzslzsbotrgbotlfkkyconk" id="marqueeeg">
                                                        <ul class="clearfloat">
                                                        </ul>
                                                    </div>
                                                    <script>
                                                        (function () {
                                                            $("#marqueeeg").kxbdMarquee({
                                                                direction: "up",
                                                                isEqual: true,
                                                                scrollDelay: 100
                                                            });
                                                        })();
                                                    </script>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="bzslzsbotrgbotrg right">
                                    <div class="bzslzsbotrgbotrgc">
                                        <div class="dwtopl"></div>
                                        <div class="dwtopr"></div>
                                        <div class="dwbotl"></div>
                                        <div class="dwbotr"></div>
                                        <div class="bzslzsbotrgbotlftitle">
                                            <p>用水量预测(m³)</p>
                                        </div>
                                        <div class="bzslzsbotrgbotlfkk bzslzsbotrgbotlfkkk">
                                            <ul class="clearfloat">
                                                <li class="clearfloat">
                                                    <div class="bzslzsbotrgbotlfkkyy clearfloat">
                                                        <span>前日</span>
                                                        <span>昨日</span>
                                                        <span>今日</span>
                                                        <span>预计明日</span>
                                                    </div>
                                                    <div class="bzslzsbotrgbotlfkke clearfloat">
                                                        <span id="qianday">20155</span>
                                                        <span id="lastday">20199</span>
                                                        <span id="thisday">11695</span>
                                                        <span id="nextday">20156</span>
                                                    </div>
                                                </li>
                                                <li class="clearfloat">
                                                    <div class="bzslzsbotrgbotlfkkyy clearfloat">
                                                        <span>前周</span>
                                                        <span>上周</span>
                                                        <span>本周</span>
                                                        <span>预计下周</span>
                                                    </div>
                                                    <div class="bzslzsbotrgbotlfkke clearfloat">
                                                        <span id="qianweek"></span>
                                                        <span id="lastweek"></span>
                                                        <span id="thisweek"></span>
                                                        <span id="nextweek"></span>
                                                    </div>
                                                </li>
                                                <li class="clearfloat">
                                                    <div class="bzslzsbotrgbotlfkkyy clearfloat">
                                                        <span>前月</span>
                                                        <span>上月</span>
                                                        <span>本月</span>
                                                        <span>预计下月</span>
                                                    </div>
                                                    <div class="bzslzsbotrgbotlfkke clearfloat">
                                                        <span id="qianmonth"></span>
                                                        <span id="lastmonth"></span>
                                                        <span id="thismonth"></span>
                                                        <span id="nextmonth"></span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                        <script>
                                            $(function () {
                                                var c = $(".bzslzsbotrgbotlfkkk ul li").height();
                                                var d = (c - 38) / 2 + 'px';
                                                $(".bzslzsbotrgbotlfkkk ul li").css('padding-top', d)
                                            });
                                            $(window).resize(function () {
                                                var c = $(".bzslzsbotrgbotlfkkk ul li").height();
                                                var d = (c - 38) / 2 + 'px';
                                                $(".bzslzsbotrgbotlfkkk ul li").css('padding-top', d)
                                            });
                                        </script>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- bzslzsbot end -->




                </div>
                <!-- 主体内容 end -->
            </div>
        </div>
        <!-- body end -->
    </div>
    <script>
        // 左侧伸缩按钮
        $('.zlw-content-lfdj').click(function () {
            if ($(".zlw-content-lfdj").hasClass("ss_active")) {
                $('.zlw_zcdw').css('left', '0px');
                $('.zlw-content-lfdj').css('left', '244px').removeClass('ss_active');
                $('.zlw-content-lfdj').css('background-image', 'url(/DataV/images/dwleft.png)');
                $('.zlw_xnhfx').css('padding-left', '260px')
            } else {
                $('.zlw_zcdw').css('left', '-260px');
                $('.zlw-content-lfdj').css('left', '0px').addClass('ss_active');
                $('.zlw-content-lfdj').css('background-image', 'url(/DataV/images/jt_lefth.png)');
                $('.zlw_xnhfx').css('padding', 0)

            }
        });

    </script>
    <script>

        //时间处理函数;
        function getRealTime(str) {
            if (str < 10) {
                return '0' + str;
            }
            return str;
        }
        var myChart1 = echarts.init(document.getElementById('bzslzstopconrgyi'));
        var myChart1setOption = ({
            tooltip: {
                trigger: 'axis',
                show:false
            },
            grid: {
                left: 0,
                right: 10,
                top: 20,
                bottom: 10,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLine: {//x轴的样式控制
                    show: true,　//显示与否
                    lineStyle: {//线条样式
                        color: '#54658a',
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                    textStyle: {
                        color: '#54658a',
                    },//控制x轴字体样式
                    fontSize: 14,
                    margin: 15
                },
                 axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                },
                data: ['1','2','3','4','5','6','7','8','9']
            },
            yAxis: {
                type: 'value',
                splitLine: {//控制网格的线条样式
                    show: false,
                    lineStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 1,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                            },
                            {
                                offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                            },
                            {
                                offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                            }],
                            global: false // 缺省为 false
                        },
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLine: {//x轴的样式控制
                    show: false,　//显示与否
                },
                axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                }
            },
            series: [
                {
                    name: '能耗',
                    type: 'line',
                    stack: '总量',
                    data: [32, 221, 84, 95, 40, 270,140,180,60],
                    smooth: true,
                    symbol: 'roundRect',
                    itemStyle: {
                        color: '#1890ff'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(24, 144, 255,0.6)'
                        }, {
                            offset: 1,
                            color: 'rgba(0, 234, 255,0)'
                        }])
                    }
                }
            ]
        
        });
        var myChart2 = echarts.init(document.getElementById('bzslzstopconrger'));
        var myChart2setOption = ({
             tooltip: {
                trigger: 'axis',
                show:false
            },
            grid: {
                left: 0,
                right: 10,
                top: 20,
                bottom: 10,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLine: {//x轴的样式控制
                    show: true,　//显示与否
                    lineStyle: {//线条样式
                        color: '#54658a',
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                    textStyle: {
                        color: '#54658a',
                    },//控制x轴字体样式
                    fontSize: 14,
                    margin: 15
                },
                 axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                },
                data: ['1','2','3','4','5','6','7','8','9']
            },
            yAxis: {
                type: 'value',
                splitLine: {//控制网格的线条样式
                    show: false,
                    lineStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 1,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                            },
                            {
                                offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                            },
                            {
                                offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                            }],
                            global: false // 缺省为 false
                        },
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLine: {//x轴的样式控制
                    show: false,　//显示与否
                },
                axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                }
            },
            series: [
                {
                    name: '能耗',
                    type: 'line',
                    stack: '总量',
                    data: [88, 161, 54, 95, 60, 270,140,180,60],
                    smooth: true,
                    symbol: 'roundRect',
                    itemStyle: {
                        color: '#409248'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(64, 146, 72,0.6)'
                        }, {
                            offset: 1,
                             color: 'rgba(64, 146, 72,0)'
                        }])
                    }
                }
            ]
        });
        var myChart3 = echarts.init(document.getElementById('bzslzstopconrgsan'));
        var myChart3setOption = ({
             tooltip: {
                trigger: 'axis',
                show:false
            },
            grid: {
                left: 0,
                right: 10,
                top: 20,
                bottom: 10,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLine: {//x轴的样式控制
                    show: true,　//显示与否
                    lineStyle: {//线条样式
                        color: '#54658a',
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                    textStyle: {
                        color: '#54658a',
                    },//控制x轴字体样式
                    fontSize: 14,
                    margin: 15
                },
                 axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                },
                data: ['1','2','3','4','5','6','7','8','9']
            },
            yAxis: {
                type: 'value',
                splitLine: {//控制网格的线条样式
                    show: false,
                    lineStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 1,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                            },
                            {
                                offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                            },
                            {
                                offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                            }],
                            global: false // 缺省为 false
                        },
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLine: {//x轴的样式控制
                    show: false,　//显示与否
                },
                axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                }
            },
            series: [
                {
                    name: '能耗',
                    type: 'line',
                    stack: '总量',
                    data: [88, 161, 54, 95, 60, 270,140,180,60],
                    smooth: true,
                    symbol: 'roundRect',
                    itemStyle: {
                        color: '#ca8208'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(202, 130, 8,0.6)'
                        }, {
                            offset: 1,
                             color: 'rgba(202, 130, 8,0)'
                        }])
                    }
                }
            ]
        
        });
        var myChart4 = echarts.init(document.getElementById('bzslzstopconrgsi'));
        var myChart4setOption = ({
             tooltip: {
                trigger: 'axis',
                show:false
            },
            grid: {
                left: 0,
                right: 10,
                top: 20,
                bottom: 10,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLine: {//x轴的样式控制
                    show: true,　//显示与否
                    lineStyle: {//线条样式
                        color: '#54658a',
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                    textStyle: {
                        color: '#54658a',
                    },//控制x轴字体样式
                    fontSize: 14,
                    margin: 15
                },
                 axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                },
                data: ['1','2','3','4','5','6','7','8','9']
            },
            yAxis: {
                type: 'value',
                splitLine: {//控制网格的线条样式
                    show: false,
                    lineStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 1,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                            },
                            {
                                offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                            },
                            {
                                offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                            }],
                            global: false // 缺省为 false
                        },
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLine: {//x轴的样式控制
                    show: false,　//显示与否
                },
                axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                }
            },
            series: [
                {
                    name: '能耗',
                    type: 'line',
                    stack: '总量',
                   data: [70, 221, 84, 95, 40, 200,140,180,50],
                    smooth: true,
                    symbol: 'roundRect',
                    itemStyle: {
                        color: '#ed6c83'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(237, 108, 131,0.6)'
                        }, {
                            offset: 1,
                             color: 'rgba(237, 108, 131,0)'
                        }])
                    }
                }
            ]
        });
        var myChart5 = echarts.init(document.getElementById('bzslzsbotlftoplfcconyi'));
        //var xData = ["一月", "二月", "三月", "四月", "五月", '六月', '七月'];
        //var yData = [2342, 1230, 425, 343, 456, 342, 322];
       var  xData = [];
       var  yData = [];
        var myChart5setOption = ({

            grid: {
                left: '2%',
                right: '2%',
                top: 30,
                bottom: 30,
                containLabel: true
            },
            dataZoom: [
                {
                    type: 'slider',
                    start: 0,
                    end: 100,
                    bottom: 10,
                    right: 15,
                    height: 16,
                    handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
                    handleSize: '110%',
                    handleStyle: {
                        color: "#d3dee5",
                    },
                    textStyle: {
                        color: "#041A46"
                    },
                    borderColor: "#90979c"
                }, {
                    "type": "inside",
                    "show": true,
                    "height": 15,
                    "start": 1,
                    "end": 35
                }],
            animation: false,
            xAxis: [{
                "type": "category",
                "data": xData,
                "axisTick": {
                    "alignWithLabel": true
                },
                "nameTextStyle": {
                    "color": "#82b0ec"
                },
                "axisLine": {
                    show: false,
                    "lineStyle": {
                        "color": "#82b0ec"
                    }
                },
                "axisLabel": {
                    "textStyle": {
                        "color": "#fff"
                    },
                    margin: 30
                }
            }],
            yAxis: [{
                show: false,
                "type": "value",
                "axisLabel": {
                    "textStyle": {
                        "color": "#fff"
                    },
                },
                "splitLine": {
                    "lineStyle": {
                        "color": "#0c2c5a"
                    }
                },
                "axisLine": {
                    "show": false
                }
            }],
            series: [{
                name: "",
                type: 'pictorialBar',
                symbolSize: [40, 10],
                symbolOffset: [0, -6],
                symbolPosition: 'end',
                z: 12,
                // "barWidth": "0",
                "label": {
                    "normal": {
                        "show": true,
                        "position": "top",
                        // "formatter": "{c}%"
                        fontSize: 15,
                        fontWeight: 'bold',
                        color: '#34DCFF'
                    }
                },
                color: "#2DB1EF",
                data: yData
            },
            {
                name: '',
                type: 'pictorialBar',
                symbolSize: [40, 10],
                symbolOffset: [0, 7],
                // "barWidth": "20",
                z: 12,
                "color": "#2DB1EF",
                "data": yData
            },
            {
                name: '',
                type: 'pictorialBar',
                symbolSize: [50, 15],
                symbolOffset: [0, 12],
                z: 10,
                itemStyle: {
                    normal: {
                        color: 'transparent',
                        borderColor: '#2EA9E5',
                        borderType: 'solid',
                        borderWidth: 1
                    }
                },
                data: yData
            },
            {
                name: '',
                type: 'pictorialBar',
                symbolSize: [70, 20],
                symbolOffset: [0, 18],
                z: 10,
                itemStyle: {
                    normal: {
                        color: 'transparent',
                        borderColor: '#19465D',
                        borderType: 'solid',
                        borderWidth: 2
                    }
                },
                data: yData
            },
            {
                type: 'bar',
                //silent: true,
                "barWidth": "40",
                barGap: '10%', // Make series be overlap
                barCateGoryGap: '10%',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 0.7, [{
                            offset: 0,
                            color: "#38B2E6"
                        },
                        {
                            offset: 1,
                            color: "#0B3147"
                        }
                        ]),
                        opacity: .8
                    },
                },
                data: yData
            },
            ]
        });
        var myChart6 = echarts.init(document.getElementById('bzslzsbotlftoprgcyi'));
        var colors = [{
            type: 'linear',

            x: 0, x2: 1, y: 0, y2: 0,
            colorStops: [{
                offset: 0,
                color: '#27f7fa'
            }, {
                offset: 0.5,
                color: '#27f7fa'
            }, {
                offset: 0.5,
                color: '#23c3e2dd'
            }, {
                offset: 1,
                color: '#23c3e2dd'
            }]
        }, {
            type: 'linear',
            x: 0, x2: 1, y: 0, y2: 0,
            colorStops: [{
                offset: 0,
                color: '#d87272'
            }, {
                offset: 0.5,
                color: '#d87272'
            }, {
                offset: 0.5,
                color: '#e54242'
            }, {
                offset: 1,
                color: '#892929'
            }]
        }];




        var barWidth = 20;
        var myChart6setOption = ({
              grid: {
                top: 30,
                left: 10,
                right: 15,
                bottom: 10,
                containLabel: true
            },
            tooltip: {
                trigger: 'axis',
                formatter: function (params) {
                    var html = params[0].name + '：' + params[0].value + 'm³';
                    return html;
                }
            },
            color: ['#2ef3ff'],
            xAxis: {
                type: 'category',
                axisLabel: {
                    formatter: '{value} '
                },
                splitLine: {//控制网格的线条样式
                    show: true,
                    lineStyle: {
                        color: '#1a253b',
                        width: 1,
                        type: 'deshed'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: true,//显示与否
                    textStyle: { color: '#949fb5' },//控制x轴字体样式
                    fontSize: 14,
                },
                data: []
            },
            yAxis: {
                type: 'value',
                    name: '',
                    nameTextStyle: {
                        color: "#fff",
                        fontSize: 14
                    },
                    axisLabel: {
                        formatter: '{value} '
                    },
                axisLabel: {
                    formatter: '{value} '
                },
                splitLine: {//控制网格的线条样式
                    show: true,
                    lineStyle: {
                        color: '#1a253b',
                        width: 1,
                        type: 'deshed'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: true,//显示与否
                    textStyle: { color: '#949fb5' },//控制x轴字体样式
                    fontSize: 14,
                },
            },
            series: [{
                z:1,
                type: 'bar',
                barWidth:barWidth,
                data:[220, 182, 191, 234, 290, 330, 310],
                itemStyle:{
                    normal:{
                        color:colors[1]
                    }
                },
            },{
                z:2,
                name:'底部',
                type:'pictorialBar',
                data :[1, 1, 1, 1, 1, 1, 1],
                symbol :'diamond',
                symbolOffset:[0,'50%'],
                    symbolSize: [barWidth, 10],
                    tooltip: {
                        show: false
                    },
                itemStyle:{
                    normal:{
                        color:colors[1]
                    }
                },
            },{
                z:3,
                name:'',
                type:'pictorialBar',
                symbolPosition:'end',
                data:[],
                symbol :'diamond',
                symbolOffset:[0,'-50%'],
               symbolSize:[barWidth,10],
                itemStyle:{
                    normal:{
                        color:colors[1]
                    }
                },
            }]
        });
        var myChart9 = echarts.init(document.getElementById('bzslzsbotlfbotcklfcony'));
        var myChart9setOption = ({
            color: ['#b0e833', '#3cf7f1', '#0778ed', '#0F347B', '#585247', '#7F6AAD', '#009D85', "rgba(250,250,250,0.3)"],
            title: {
                text: '总数',
                textStyle: {
                    color: '#f2f2f2',
                    fontSize: 20,
                    // align: 'center'
                },
                subtextStyle: {
                    fontSize: 10,
                    color: ['#ff9d19']
                },
                x: 'center',
                y: 'center',
            },
            grid: {
                bottom: 150,
                left: 100,
                right: '10%'
            },
            legend: {
                orient: 'vertical',
                top: "0",
                right: "0",
                textStyle: {
                    color: '#f2f2f2',
                    fontSize: 15,

                },
                icon: 'roundRect',
                data: [],
            },
            series: [
                // 主要展示层的
                {
                    radius: ['40%', '60%'],
                    center: ['50%', '50%'],
                    type: 'pie',
                    label: {
                        normal: {
                            show: true,
                            formatter: "{c}",
                            textStyle: {
                                fontSize: 20,
                                fontWeight:'bold',

                            },
                            position: 'outside'
                        },
                        emphasis: {
                            show: true
                        }
                    },
                    labelLine: {
                        normal: {
                            show: true,
                            length: 10,
                            length2: 20
                        },
                        emphasis: {
                            show: true
                        }
                    },
                    name: "对比",
                    data: [],

                },
                // 边框的设置
                {
                    radius: ['30%', '34%'],
                    center: ['50%', '50%'],
                    type: 'pie',
                    label: {
                        normal: {
                            show: false
                        },
                        emphasis: {
                            show: false
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        },
                        emphasis: {
                            show: false
                        }
                    },
                    animation: false,
                    tooltip: {
                        show: false
                    },
                    data: [{
                        value: 1,
                        itemStyle: {
                            color: "rgba(250,250,250,0.3)",
                        },
                    }],
                }, {
                    name: '外边框',
                    type: 'pie',
                    clockWise: false, //顺时加载
                    hoverAnimation: false, //鼠标移入变大
                    center: ['50%', '50%'],
                    radius: ['65%', '65%'],
                    label: {
                        normal: {
                            show: false
                        }
                    },
                    data: [{
                        value: 9,
                        name: '',
                        itemStyle: {
                            normal: {
                                borderWidth: 2,
                                borderColor: '#0b5263'
                            }
                        }
                    }]
                },
            ]
        });
        var myChart7 = echarts.init(document.getElementById('bzslzsbotlfbotckrgconyi'));
        // 指定图表的配置项和数据
        var myChart7setOption = ({
            title: {
                left: 'center',
                top: 20,
                textStyle: {
                    color: '#ccc'
                }
            },

            tooltip: {
                trigger: 'item',
                formatter: "{b} : {c} ({d}%)"
            },

            visualMap: {
                show: false,
                min: 500,
                max: 600,
                inRange: {
                    //colorLightness: [0, 1]
                }
            },
            series: [{
                name: '月供水量',
                type: 'pie',
                radius: '45%',
                center: ['50%', '50%'],
                color: ['rgb(131,249,103)', '#FBFE27', '#FE5050', '#1DB7E5'], //'#FBFE27','rgb(11,228,96)','#FE5050'
                data: [].sort(function(a, b) {
                    return a.value - b.value
                }),
                roseType: 'radius',

                label: {
                    normal: {
                        formatter: ['{c|{c}m³}', '{b|{b}}'].join('\n'),
                        position: 'outside',

                        rich: {
                            c: {
                                color: 'rgb(241,246,104)',
                                fontSize: 20,
                                fontWeight:'bold',
                                lineHeight: 5
                            },
                            b: {
                                color: 'rgb(255,255,255)',
                                fontSize: 15,
                                height: 40
                            },
                        },
                    }
                },
                labelLine: {
                    normal: {
                        lineStyle: {
                            color: 'rgb(98,137,169)',
                        },
                        smooth: 0.2,
                        length: 25,
                        length2: 30,

                    }
                },
                itemStyle: {
                    normal: {
                        shadowColor: 'rgba(0, 0, 0, 0.5)',
                        shadowBlur: 50,
                    }
                }
            }]
        });
        





        //var myChart8 = echarts.init(document.getElementById('bzslzsbotrgcnrt'));
        //var myChart8setOption = ({
        //                                        legend: {
        //                                            left: 'center',
        //                                            top: 18,
        //                                            textStyle: {
        //                                                color: '#fff'
        //                                            }
        //                                        },
        //                                        tooltip: {
        //                                            trigger: 'axis'
        //                                        },
        //                                        grid: {
        //                                            left: '2%',
        //                                            right: '2%',
        //                                            top: 60,
        //                                            bottom: 10,
        //                                            containLabel: true
        //                                        },
        //                                        color: ['#01da28', '#f8d903', '#ff4873', '#fdd100', '#3fecff', '#23e443'],
        //                                        xAxis: {
        //                                            type: 'category',
        //                                            boundaryGap: false,
        //                                            axisLine: {//x轴的样式控制
        //                                                show: true,　//显示与否
        //                                                lineStyle: {//线条样式
        //                                                    color: '#50558b',
        //                                                    width: 2,
        //                                                    type: 'solid'
        //                                                }
        //                                            },
        //                                            axisLabel: {//控制x轴上的文字的样式
        //                                                show: true,//显示与否
        //                                                textStyle: {
        //                                                    color: '#999bc6',
        //                                                },//控制x轴字体样式
        //                                                fontSize: 14,
        //                                                margin: 15
        //                                            },
        //                                            data: ['2019.01', '2019.02', '2019.03', '2019.04', '2019.05', '2019.06', '2019.07', '2019.08', '2019.09', '2019.10', '2019.11', '2019.12']
        //                                        },
        //                                        yAxis: {
        //                                            type: 'value',
        //                                            splitLine: {//控制网格的线条样式
        //                                                show: true,
        //                                                lineStyle: {
        //                                                    color: '#3d427a',
        //                                                    width: 1,
        //                                                    type: 'deshed'
        //                                                }
        //                                            },
        //                                            axisLine: {//x轴的样式控制
        //                                                show: true,　//显示与否
        //                                                lineStyle: {//线条样式
        //                                                    color: '#50558b',
        //                                                    width: 2,
        //                                                    type: 'solid'
        //                                                }
        //                                            },
        //                                            axisTick: {
        //                                                show: false
        //                                            },
        //                                            axisLabel: {//控制x轴上的文字的样式
        //                                                show: true,//显示与否
        //                                                textStyle: { color: '#999bc6' },//控制x轴字体样式
        //                                                fontSize: 14
        //                                            }
        //                                        },
        //                                        series: [
        //                                            {
        //                                                name: '累计流量',
        //                                                type: 'line',
        //                                                stack: '总量',
        //                                                smooth: true,
        //                                                data: [120, 132, 101, 134, 90, 180, 110, 120, 132, 161, 134, 90, 230, 150]
        //                                            },
        //                                            {
        //                                                name: '累计电量',
        //                                                type: 'line',
        //                                                stack: '总量',
        //                                                smooth: true,
        //                                                data: [220, 182, 191, 234, 290, 330, 310, 220, 182, 191, 234, 290, 330, 310]
        //                                            },
        //                                            {
        //                                                name: '单吨耗能',
        //                                                type: 'line',
        //                                                stack: '总量',
        //                                                smooth: true,
        //                                                data: [220, 182, 191, 234, 290, 330, 310, 220, 182, 191, 234, 290, 330, 310]
        //                                            }
        //                                        ]
        //});
         //同时段瞬时流量对比分析
            var myChart8 = echarts.init(document.getElementById('bzslzsbotrgcnrt'));
            var option8 = {
                legend: {
                    type:'scroll',
                    left: 'center',
                    top: 18,
                    textStyle: {
                        color: '#fff'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    formatter: function (datas) {
                        var res = datas[0].axisValueLabel.substring(0,5) + '<br/>'
                        for (var i = 0, length = datas.length; i < length; i++) {
                            res += datas[i].marker + datas[i].seriesName + '：'
                                + datas[i].value[1].toFixed(2) + '<br/>'
                        }
                        return res
                    }
                },
                grid: {
                    left: '2%',
                    right: '2%',
                    top: 60,
                    bottom: 10,
                    containLabel: true
                },
                dataZoom: [
                    {
                        show: true,
                        realtime: true,
                        start: 25,
                        end: 55,
                        bottom: 2,                       
                    },
                    {
                        type: 'inside',
                        realtime: true,
                        start: 25,
                        end: 55,
                        bottom: 2,
                    }
                ],
                color: ['#01da28', '#f8d903', '#ff4873', '#fdd100', '#3fecff', '#23e443'],
                xAxis: {
                    type: 'time',
                    boundaryGap: false,
                    axisLine: {//x轴的样式控制
                        show: true,　//显示与否
                        lineStyle: {//线条样式
                            color: '#50558b',
                            width: 2,
                            type: 'solid'
                        }
                    },
                    axisLabel: {//控制x轴上的文字的样式
                        show: true,//显示与否
                        textStyle: {
                            color: '#999bc6',
                        },//控制x轴字体样式
                        fontSize: 14,
                        margin: 15,
                        formatter: function (value, index) {
                            // 格式化成月/日，只在第一个刻度显示年份
                            var date = new Date(value);
                            var mintes = date.getMinutes();
                            if (mintes < 10) {
                                mintes = "0" + date.getMinutes();
                            }
                            var texts = [(date.getHours()), mintes];

                            return texts.join(':');
                        }
                    }

                },
                yAxis: {
                    type: 'value',
                    splitLine: {//控制网格的线条样式
                        show: true,
                        lineStyle: {
                            color: '#3d427a',
                            width: 1,
                            type: 'deshed'
                        }
                    },
                    axisLine: {//x轴的样式控制
                        show: true,　//显示与否
                        lineStyle: {//线条样式
                            color: '#50558b',
                            width: 2,
                            type: 'solid'
                        }
                    },
                    axisTick: {
                        show: false
                    },
                    axisLabel: {//控制x轴上的文字的样式
                        show: true,//显示与否
                        textStyle: { color: '#999bc6' },//控制x轴字体样式
                        fontSize: 14
                    }
                },
                series: [

                ]
            };
        var scroNum = 0;
        var setting = {
			check: {
		      enable: true,
                chkStyle: "radio",
                radioType: "all"   //对所有节点设置单选
	        },
			data: {
				simpleData: {
					enable: true
				}
            }
            ,callback:{
                onCheck: zTreeOnCheck
            },view: {
                showTitle:false,
                showLine: true,
                nameIsHTML: true,
                showIcon: false
            }
		};
        var zNodes =@ViewBag.TreeNodes, zTreeObj;
        var selectid=@ViewBag.deviceid;
        // 添加class
        $(function () {
            $(".zlw_header_menu  ul li").click(function () {
                $(this).siblings('.zlw_header_menu  ul li').removeClass('menuact');  // 删除其他兄弟元素的样式
                $(this).addClass('menuact');                            // 添加当前元素的样式
            });
            zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);

            var node = zTreeObj.getNodeByParam("id", selectid, null);
            if(node != null && node != undefined)
            {
                var parentnode = zTreeObj.getNodeByParam("id", node.pId, null);
                zTreeObj.expandNode(parentnode, true, true, true);
                zTreeObj.checkNode(node, true, true);
                LoadTodCount(node.id);
                LoadYesFlow(node.id);
                LoadWeekFlow(node.id);
                LoadMonthFlow(node.id);
                LoadYearFlow(node.id);
                LoadLate7Day(node.id);
                LoadThreeWeek(node.id);
                GetFlowTableData(node.id);
                LoadFlowPrediction(node.id);
                LoadInstantFlow(node.id);
            }

        });
         //左侧树查询回车事件
        $("#stationName").keydown(function(e) {
           if (e.keyCode == 13) {
               LoadZtree();
               return false;
           }
        });
           //树查询
     function LoadZtree() {
         zTreeObj.destroy();    //清空树

         if ($("#stationName").val() != "") {
             //查询树列表数据
             $.post("/Sws/BigScreen_Consump/SearchTree", {
                 stationName: $("#stationName").val()
             }, function (data) {
                 var aa= JSON.parse(data);   //数据转json
                     zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, aa);   //重新初始化树
                     zTreeObj.expandAll(true);     //初始化数列表展开
                      var node = zTreeObj.getNodeByParam("id", selectid, null);
                     if (node != null && node != undefined) {
                         var parentnode = zTreeObj.getNodeByParam("id", node.pId, null);
                         
                         zTreeObj.checkNode(node, true, true);
                     }
             });
         }
         else {

             zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);   //重新初始化树
              var node = zTreeObj.getNodeByParam("id", selectid, null);
             if (node != null && node != undefined) {
                 var parentnode = zTreeObj.getNodeByParam("id", node.pId, null);
                 zTreeObj.expandNode(parentnode, true, true, true);
                 zTreeObj.checkNode(node, true, true);
             }
         }

        }
         function filter(node) {
                return (node.level == 0 );
        }
        function zTreeOnCheck(event, treeId, treeNode) {
            if (treeNode.checked == true) {
                selectid = treeNode.id;
                 LoadTodCount(treeNode.id);
                LoadYesFlow(treeNode.id);
                LoadWeekFlow(treeNode.id);
                LoadMonthFlow(treeNode.id);
                LoadYearFlow(treeNode.id);
                LoadLate7Day(treeNode.id);
                LoadThreeWeek(treeNode.id);
                GetFlowTableData(treeNode.id);
                LoadFlowPrediction(treeNode.id);
                LoadInstantFlow(treeNode.id);
            }
            else {
                treeNode.checked == true
                 zTreeObj.checkNode(treeNode, true, true);


            }
        }
        //今日用水量总和
        function LoadTodCount(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadFlowData", { id: iddevice, day: 1 }, function (data) {
                var jsData = JSON.parse(data);
                $("#todayFlow").html(jsData.dayFlowcount);
                $("#thisday").html(jsData.dayFlowcount);
                //myChart1setOption.xAxis.data = jsData.timelist;
                //myChart1setOption.series[0].data = jsData.datalist;
                myChart1.setOption(myChart1setOption);
            })
        }
        //昨日用水量总和
        function LoadYesFlow(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadFlowData", { id: iddevice, day: 2 }, function (data) {
                var jsData = JSON.parse(data);
                $("#yesFlow").html(jsData.dayFlowcount);
                //myChart2setOption.xAxis.data = jsData.timelist;
                //myChart2setOption.series[0].data = jsData.datalist;
                myChart2.setOption(myChart2setOption);
            })
        }
        //本周用水量总和
        function LoadWeekFlow(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadWeekFlow", { id: iddevice, day: 1 }, function (data) {
                var jsData = JSON.parse(data);
                $("#weekFlow").html(jsData.dayFlowcount);
                //myChart3setOption.xAxis.data = jsData.timelist;
                //myChart3setOption.series[0].data = jsData.datalist;
                myChart3.setOption(myChart3setOption);
            })
        }
        //本月用水量总和
        function LoadMonthFlow(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadMonthFlow", { id: iddevice, day: 1 }, function (data) {
                var jsData = JSON.parse(data);
                $("#monthFlow").html(jsData.dayFlowcount);
                $("#thismonth").html(jsData.dayFlowcount);
                //myChart4setOption.xAxis.data = jsData.timelist;
                //myChart4setOption.series[0].data = jsData.datalist;
                myChart4.setOption(myChart4setOption);
            })
        }
        //本年度用水量总和
        function LoadYearFlow(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadYearFlow", { id: iddevice }, function (data) {
                var jsData = JSON.parse(data);
                if (jsData.timelist.length > 0) {
                     $("#bzslzsbotlftoplfcconyi").css("display", "block");
                    $("#nodata_thisyear").css("display","none");
                    xData = jsData.timelist;
                    yData = jsData.dataalist;
                    //xData = ["一月", "二月", "三月", "四月", "五月", '六月', '七月'];
                    //yData = [2342, 1230, 425, 343, 456, 342, 322];
                    //myChart5setOption.xAxis[0].data = jsData.timelist;
                    //myChart5setOption.series[0].data = jsData.datalist;
                    myChart5setOption.xAxis[0].data = xData;
                    myChart5setOption.series[0].data = yData;
                    myChart5setOption.series[1].data = yData;
                    myChart5setOption.series[2].data = yData;
                    myChart5setOption.series[3].data = yData;
                    myChart5setOption.series[4].data = yData;
                    myChart5.setOption(myChart5setOption);
                   
                } else {
                     $("#bzslzsbotlftoplfcconyi").css("display", "none");
                    $("#nodata_thisyear").css("display","block");
                }
                if (jsData.datalist.length > 0) {
                    $("#bzslzsbotlfbotckrgconyi").css("display", "block");
                    $("#nodata_thismonth").css("display", "none");
                    myChart7setOption.series[0].data = jsData.datalist;
                    myChart7.setOption(myChart7setOption);
                } else {
                     $("#bzslzsbotlfbotckrgconyi").css("display", "none");
                    $("#nodata_thismonth").css("display","block");
                }
            })
        }
        //近七天用水量
        function LoadLate7Day(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadLate7Day", { id: iddevice }, function (data) {
                var jsData = JSON.parse(data);
                if (jsData.timelist.length > 0) {
                    $("#bzslzsbotlftoprgcyi").css("display", "block");
                    $("#nodata_thisweek").css("display","none");
                    myChart6setOption.xAxis.data = jsData.timelist;
                    myChart6setOption.series[0].data = jsData.datalist;

                    myChart6setOption.series[2].data = jsData.datalist;
                    myChart6.setOption(myChart6setOption);
                } else {
                    $("#bzslzsbotlftoprgcyi").css("display", "none");
                    $("#nodata_thisweek").css("display","block");
                }

            })
        }
        //前周本周上周用水量
        function LoadThreeWeek(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadThreeWeek", { id: iddevice }, function (data) {
                var jsData = JSON.parse(data);
                myChart9setOption.legend.data = jsData.datalist;
                myChart9setOption.series[0].data = jsData.datalist;
                myChart9.setOption(myChart9setOption);
                $("#qianweek").html(jsData.qianweek);
                $("#lastweek").html(jsData.lastweek);
                $("#thisweek").html(jsData.thisweek);
                $("#nextweek").html(jsData.nextweek);
            })
        }
        //获取预测用水量
        function LoadFlowPrediction(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadFlowPrediction", { id: iddevice }, function (data) {
                var jsData = JSON.parse(data);
                $("#qianday").html(jsData.qianday);
                $("#lastday").html(jsData.lastday);
                $("#nextday").html(jsData.nextday);
                $("#qianmonth").html(jsData.qianmonth);
                $("#lastmonth").html(jsData.lastmonth);
                $("#nextmonth").html(jsData.nextmonth);
            })
        }
        //近十天用水量增比
        function GetFlowTableData(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/GetFlowTable", { id: iddevice }, function (data) {
                $("#marqueeeg ul").empty();
                if (data != "[]") {
                    var json = JSON.parse(data);
                    var appendstring = "";
                    for (var i = 0; i < json.length; i++) {
                        appendstring += "<li>" +
                            " <span><i>" + json[i].Num + "</i></span>" +
                            "<span>" + json[i].Time + "</span>" +
                            "<span>" + json[i].Data + "</span>" +
                            "<span>" + json[i].Percent + "</span>" +
                            "</li>";
                    }
                    $("#marqueeeg ul").append(appendstring);
                    if (appendstring != "") {
                        scroNum = scroNum + 1;
                    }
                    if (scroNum == 1) {
                        $("#marqueeeg").kxbdMarquee({
                            direction: "up",
                            isEqual: true,
                            scrollDelay: 100
                        });
                    }
                } else {
                    // $("#bzslzsbotlftoplfcconyi").css("display", "none");
                    //$("#nodata_thisyear").css("display","block");
                }
            })
        }

         //获取预测用水量
        function LoadInstantFlow(iddevice) {
            $.post("/Sws/Sws_FlowAnalysis/LoadFlow", { deviceid: iddevice }, function (data) { 
                if (data.result.length > 0) {
                    $("#bzslzsbotrgcnrt").css("display", "block");
                    $("#nodata_thistongshi").css("display","none");
                    var arr = [];
                    for (var i = 0; i < data.result.length; i++) {
                        var oo = {
                            name: '',
                            type: 'line',
                            data: [],
                            showSymbol: false,
                        };
                        oo.data = eval(data.result[i].data);
                        oo.name = data.result[i].name;
                        arr.push(oo);
                    }
                    myChart8.clear();
                    option8.series = arr;
                    myChart8.setOption(option8);
                } else {
                     $("#bzslzsbotrgcnrt").css("display", "none");
                    $("#nodata_thistongshi").css("display","block");
                }
                
                $("#mindata").html(data.mindata + " <i>m³/h</i>");
                $("#maxdata").html(data.maxdata + " <i>m³/h</i>");
                $("#averagedata").html(data.avgdata + " <i>m³/h</i>");
                $("#averagedata").attr("title",data.avgdata + "m³/h");
            })
        }
    </script>
    <script>
        window.onresize = function () {
            myChart1.resize();
            myChart2.resize();
            myChart3.resize();
            myChart4.resize();
            myChart5.resize();
            myChart6.resize();
            myChart7.resize();
            myChart8.resize();
            myChart9.resize();
        }
    </script>
    <script src="~/DataV/js/jt.js"></script>
    <script>
        $(".bzslzsbotlftoplf ").resize(function () { });
    </script>
    <script>
        (function () {
            $("#marqueeeg").kxbdMarquee({
                direction: "up",
                isEqual: true,
                scrollDelay: 100
            });
        })();
    </script>

</body>
</html>