
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>能耗分析</title>
    <link rel="Shortcut Icon" href="~/UploadImg/Logo/logo.png" />
    <link rel="stylesheet" href="~/DataV/css/css.css">
    <link href="~/css/ztreefont.css" rel="stylesheet" />
    @*<link href="~/css/zlw.css" rel="stylesheet" />*@
    <link rel="stylesheet" href="/css/iconfont.css">
    <link href="~/lib/ztree/diy/zTreeStyle02.css" rel="stylesheet" />
    <script src="~/DataV/js/jquery-1.12.4.min.js"></script>
    <script src="~/DataV/js/echarts.min.js"></script>
    <script src="~/DataV/ztree/jquery.ztree.core-3.5.js"></script>
    <script src="~/DataV/ztree/jquery.ztree.excheck-3.5.js"></script>
    <style>
        .ztree li a {
            color: #e4f4ff
        }

        .no-date {
            width: 100%;
            height: 100%;
            text-align: center;
            position: absolute;
            left: 0;
            top: 48%;
        }

            .no-date img {
                position: relative;
                top: -75px;
            }

            .no-date p {
                text-align: center;
                font-size: 14px;
                color: #fff;
                position: absolute;
                top: 85px;
                width: 100%;
            }

        .dp-search {
            height: 30px;
            border: 2px solid #07A6FF;
            border-radius: 5px;
            outline: none;
            background: transparent;
            line-height: 30px;
            color: #fff;
            width: 100%;
            text-indent: 10px;
            margin: 5px 0;
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-thumb {
            background-color: #999;
            background-clip: padding-box;
            min-height: 28px;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-track-piece {
            background-color: #fff;
        }
    </style>
</head>
<body>
    <div class="zlw_content">
        <!-- star  body -->
        <div class="zlw_xnhfx  clearfloat">
            <div class="zlw_zcdw">
                <input id="stationName" type="text" placeholder="搜索泵房" class="dp-search" autocomplete="off">
                <div id="treeDemo" class="ztree"></div>
            </div>
            <div class="zlw-content-lfdj"></div>
            <div class="zlw_nhfxcon">
                <!-- star 主体内容 -->
                <div class="zlw-nhfxcon">
                    <!-- star top -->
                    <div class="zlw-nhfxcontop">
                        <div class="zlw-nhfxcontopk">
                            <!-- 四个角直角 -->
                            <div class="dwtopl"></div>
                            <div class="dwtopr"></div>
                            <div class="dwbotl"></div>
                            <div class="dwbotr"></div>
                            <ul class="clearfloat">
                                <li>
                                    <div class="zlw-nhqx">
                                        <div class="zlw-nhqxtitle">
                                            <p>今日能耗</p>
                                        </div>
                                        <div class="zlw-nhqxcon clearfloat">
                                            <div class="zlw-nhqxconlf left">
                                                <p id="todaydata">0<span>kW·h</span></p>
                                            </div>
                                            <div class="zlw-nhqxconrg left">
                                                <div class="zlw-nhqxconrgyi" id="zlw-nhqxconrgyi"></div>

                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="zlw-nhqx">
                                        <div class="zlw-nhqxtitle">
                                            <p>昨日能耗</p>
                                        </div>
                                        <div class="zlw-nhqxcon clearfloat">
                                            <div class="zlw-nhqxconlf left">
                                                <p id="yestdayData">0<span>kW·h</span></p>
                                            </div>
                                            <div class="zlw-nhqxconrg left">
                                                <div class="zlw-nhqxconrger" id="zlw-nhqxconrger"></div>

                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="zlw-nhqx">
                                        <div class="zlw-nhqxtitle">
                                            <p>本周能耗</p>
                                        </div>
                                        <div class="zlw-nhqxcon clearfloat">
                                            <div class="zlw-nhqxconlf left">
                                                <p id="weekdata">0<span>kW·h</span></p>
                                            </div>
                                            <div class="zlw-nhqxconrg left">
                                                <div class="zlw-nhqxconrgsan" id="zlw-nhqxconrgsan"></div>

                                            </div>
                                        </div>
                                    </div>
                                </li>
                                <li>
                                    <div class="zlw-nhqx">
                                        <div class="zlw-nhqxtitle">
                                            <p>本月能耗</p>
                                        </div>
                                        <div class="zlw-nhqxcon clearfloat">
                                            <div class="zlw-nhqxconlf left">
                                                <p id="thismonth">0<span>kW·h</span></p>
                                            </div>
                                            <div class="zlw-nhqxconrg left">
                                                <div class="zlw-nhqxconrgsi" id="zlw-nhqxconrgsi"></div>

                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- top end -->
                    <!-- star middle -->
                    <div class="zlw-nhfxconmid clearfloat">
                        <!-- star 本年度能耗分析 -->
                        <div class="zlw-nhfxconmidlf left">
                            <div class="zlw-nhfxxk">
                                <!-- 四个角直角 -->
                                <div class="dwtopl"></div>
                                <div class="dwtopr"></div>
                                <div class="dwbotl"></div>
                                <div class="dwbotr"></div>
                                <div class="zlw-nhtitle">
                                    <p>本年度能耗统计</p>
                                </div>
                                <div class="zlw-nhfxxkcon">
                                    <div class="zlw-nhfxxkconyi" id="zlw-nhfxxkconyi"></div>
                                    <div class="no-date" id="nodata_year" style="display:none">
                                        <img src="/images/zanwu.png" width="150" height="150" />
                                        <p>暂无数据</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- star 本月对比 -->
                        <div class="zlw-nhfxconmidrg left">
                            <div class="zlw-nhfxconmidrgk clearfloat">
                                <!-- 四个角直角 -->
                                <div class="dwtopl"></div>
                                <div class="dwtopr"></div>
                                <div class="dwbotl"></div>
                                <div class="dwbotr"></div>
                                <div class="zlw-nhtitle">
                                    <p>上月能耗分析</p>
                                </div>
                                <div class="zlw-nhfxconmidrgkcon">
                                    <div id="zlw_dynhfxx"></div>
                                    <div class="no-date" id="nodata_thisEnery" style="display:none">
                                        <img src="/images/zanwu.png" width="150" height="150" />
                                        <p>暂无数据</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 本月对比 end -->
                        <!-- 本年度能耗分析 end -->
                        <div class="zlw-nhfxconmidmi right">
                            <div class="zlw-nhfxconmidmik">
                                <!-- 四个角直角 -->
                                <div class="dwtopl"></div>
                                <div class="dwtopr"></div>
                                <div class="dwbotl"></div>
                                <div class="dwbotr"></div>
                                <div class="zlw-nhtitle">
                                    <p>近7天能耗统计</p>
                                </div>
                                <div class="zlw-nhfxconmidmikcon">
                                    <div class="zlw-nhfxconmidmikconyi" id="zlw-nhfxconmidmikconyi"></div>
                                    <div class="no-date" id="nodata_7enery" style="display:none">
                                        <img src="/images/zanwu.png" width="150" height="150" />
                                        <p>暂无数据</p>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                    <!-- middle end -->
                    <!-- star end -->
                    <div class="zlw-nhfxconbot clearfloat">
                        <!-- star 近七天 -->
                        <div class="zlw-nhfxqt left">
                            <div class="zlw-nhfxqtk">
                                <!-- 四个角直角 -->
                                <div class="dwtopl"></div>
                                <div class="dwtopr"></div>
                                <div class="dwbotl"></div>
                                <div class="dwbotr"></div>
                                <div class="zlw-nhtitle">
                                    <p>总累计流量/总累计电量</p>
                                </div>
                                <div class="zlw-nhfxqtkcon clearfloat">
                                    @*<div class="zlw-nhfxqtkconlf left">
                                            <div class="zlw-nhfxqtkconlfyi" id="zlw-nhfxqtkconlfyi"></div>

                                        </div>
                                        <div class="zlw-nhfxqtkconrg right">
                                            <div class="zlw-nhfxqtkconrgyi" id="zlw-nhfxqtkconrgyi"></div>

                                        </div>*@
                                    <div class="middle-box">
                                        <div class="middle-inner">
                                            <div class="list-params-science">
                                                <div class="item">
                                                    <i class="icon icon-transmission"></i>
                                                    <div class="title">
                                                        <h3>总累计流量（m³）</h3>
                                                        <h4>Total cumulative flow</h4>
                                                    </div>
                                                    <div class="value" id="allFlow">—</div>
                                                </div>
                                                <div class="item">
                                                    <i class="icon icon-lightning"></i>
                                                    <div class="title">
                                                        <h3>总累计电量（kW·h）</h3>
                                                        <h4>Total accumulated electricity</h4>
                                                    </div>
                                                    <div class="value" id="allPower">—</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- 近七天 end -->
                        <!-- stra 数据滚动 -->
                        <div class="zlw-nhsjgd left">
                            <div class="zlw-nhsjgdk">
                                <!-- 四个角直角 -->
                                <div class="dwtopl"></div>
                                <div class="dwtopr"></div>
                                <div class="dwbotl"></div>
                                <div class="dwbotr"></div>
                                <div class="zlw-nhtitle">
                                    <p>一周单吨能耗分析</p>
                                </div>
                                <div class="nhsjgdkcon">
                                    <div class="zlw-nhfxconmidrgkconyi" id="zlw-nhfxconmidrgkconyi"></div>
                                    <div class="no-date" id="nodata_7comp" style="display:none">
                                        <img src="/images/zanwu.png" width="150" height="150" />
                                        <p>暂无数据</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 数据滚动 end -->
                        <!-- star 能耗占比 -->
                        <div class="zlw-nhzb left">
                            <div class="zlw-nhzbk">
                                <!-- 四个角直角 -->
                                <div class="dwtopl"></div>
                                <div class="dwtopr"></div>
                                <div class="dwbotl"></div>
                                <div class="dwbotr"></div>
                                <div class="zlw-nhtitle">
                                    <p>近一个月单吨能耗</p>
                                </div>
                                <div class="zlw-nhzbkcon">
                                    <div class="zlw-nhzbkconyi" id="zlw-nhzbkconyi"></div>
                                    <div class="no-date" id="nodata_thisComp" style="display:none">
                                        <img src="/images/zanwu.png" width="150" height="150" />
                                        <p>暂无数据</p>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- 能耗占比 end -->
                    </div>
                    <!-- end end -->
                </div>
                <!-- 主体内容 end -->
            </div>
        </div>
        <!-- body end -->
    </div>
    <script>
        // 左侧伸缩按钮
        $('.zlw-content-lfdj').click(function () {
            if ($(".zlw-content-lfdj").hasClass("ss_active")) {
                $('.zlw_zcdw').css('left', '0px');
                $('.zlw-content-lfdj').css('left', '244px').removeClass('ss_active');
                $('.zlw-content-lfdj').css('background-image', 'url(/DataV/images/dwleft.png)');
                $('.zlw_xnhfx').css('padding-left', '260px')
            } else {
                $('.zlw_zcdw').css('left', '-260px');
                $('.zlw-content-lfdj').css('left', '0px').addClass('ss_active');
                $('.zlw-content-lfdj').css('background-image', 'url(/DataV/images/jt_lefth.png)');
                $('.zlw_xnhfx').css('padding', 0)

            }
        });

    </script>
    <script>
        // 添加class
        $(function () {
            $(".zlw_header_menu  ul li").click(function () {
                $(this).siblings('.zlw_header_menu  ul li').removeClass('menuact');  // 删除其他兄弟元素的样式
                $(this).addClass('menuact');                            // 添加当前元素的样式
            });
        });
    </script>
    <script>
        window.onresize = function () {
            myChart01.resize();
            myChart02.resize();
            myChart03.resize();
            myChart04.resize();
            myChart05.resize();
            myChart06.resize();
            //myChart07.resize();
            //myChart08.resize();
            myChart1.resize();
            myChartby.resize();
            chartddnh.resize();
        }
    </script>
    <script src="~/DataV/js/jt.js"></script>
    <script>
        $("#zlw-nhfxxkconyi").resize(function () {
            myChart1.resize();
        });
    </script>
    @*<script>
            $(function () {
                // top
                var na = $(".zlw-nhqxconlf").height();
                var nb = (na - 56) / 2 + 'px';
                $('.zlw-nhqxconlf p').css('padding-top', nb);
                // 数据滚动
                var nc = $('.zlw-nhsjgdkcon ul').height();
                var nd = nc / 6 + 'px';
                $('.zlw-nhsjgdkcon ul li').css('line-height', nd);
                $('.zlw-nhsjgdkcon ul li').css('height', nd);

            })
            $(window).resize(function () {
                // top
                var na = $(".zlw-nhqxconlf").height();
                var nb = (na - 56) / 2 + 'px';
                $('.zlw-nhqxconlf p').css('padding-top', nb);
                // 数据滚动
                var nc = $('.zlw-nhsjgdkcon ul').height();
                var nd = nc / 6 + 'px';
                $('.zlw-nhsjgdkcon ul li').css('line-height', nd);
                $('.zlw-nhsjgdkcon ul li').css('height', nd);
            });
        </script>*@
    <script>
           var setting = {
			check: {
		      enable: true,
                   chkStyle: "radio",
                radioType: "all"
	        },
			data: {
				simpleData: {
					enable: true
				}
            }
            ,callback:{
                onCheck: zTreeOnCheck
            },view: {
                showTitle:false,
                showLine: true,
                nameIsHTML: true,
                showIcon: false
            }
		};
        var zNodes =@ViewBag.TreeNodes, zTreeObj;
        var selectid=@ViewBag.deviceid;
        $(function () {
            zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);

            var node = zTreeObj.getNodeByParam("id", selectid, null);
            if(node != null && node != undefined)
            {
                var parentnode = zTreeObj.getNodeByParam("id", node.pId, null);
                zTreeObj.expandNode(parentnode, true, true, true);
                zTreeObj.checkNode(node, true, true);
                GetTodayAndThisWeek(node.id);//今日以及本周能耗
                GetYearData(node.id);//年度能耗统计
                GetCompData7Day(node.id);//近7天能耗数据分析
                GetDataAll(node.id);//总流量，总能耗
                GetThisMonthEnery(node.id);
                GetThisMonthComp(node.id);

            }

        })
          //左侧树查询回车事件
        $("#stationName").keydown(function(e) {
           if (e.keyCode == 13) {
               LoadZtree();
               return false;
           }
        });
         //树查询
     function LoadZtree() {
         zTreeObj.destroy();    //清空树

         if ($("#stationName").val() != "") {
             //查询树列表数据
             $.post("/Sws/BigScreen_Consump/SearchTree", {
                 stationName: $("#stationName").val()
             }, function (data) {
                 var aa= JSON.parse(data);   //数据转json
                     zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, aa);   //重新初始化树
                     zTreeObj.expandAll(true);     //初始化数列表展开
                     var node = zTreeObj.getNodeByParam("id", selectid, null);
                     if (node != null && node != undefined) {
                         var parentnode = zTreeObj.getNodeByParam("id", node.pId, null);
                         
                         zTreeObj.checkNode(node, true, true);
                     }
             });
         }
         else {

             zTreeObj = $.fn.zTree.init($("#treeDemo"), setting, zNodes);   //重新初始化树
              var node = zTreeObj.getNodeByParam("id", selectid, null);
             if (node != null && node != undefined) {
                 var parentnode = zTreeObj.getNodeByParam("id", node.pId, null);
                 zTreeObj.expandNode(parentnode, true, true, true);
                 zTreeObj.checkNode(node, true, true);
             }
         }
        
     }
        function filter(node) {
                return (node.level == 0 );
        }
        function zTreeOnCheck(event, treeId, treeNode) {
            if (treeNode.checked == true) {
                GetTodayAndThisWeek(treeNode.id);//今日以及本周能耗
                //GetYestdayComp(treeNode.id);//昨日能耗
                //GetThisMonthComp(treeNode.id);//本月能耗
                GetYearData(treeNode.id);//年度能耗统计
                GetCompData7Day(treeNode.id);//近7天能耗数据分析
                GetDataAll(treeNode.id);//总流量，总能耗
                //GetPumpData(treeNode.id);//近一个月能耗对比
                GetThisMonthEnery(treeNode.id);
                GetThisMonthComp(treeNode.id);
                selectid = treeNode.id;
            }
            else {

                    treeNode.checked == true
                    zTreeObj.checkNode(treeNode, true, true);

                //$("#todaydata").html(0 + "<span>kW·h</span>");
                //$("#weekdata").html(0 + "<span>kW·h</span>");
                //$("#yestdayData").html(0 + "<span>kW·h</span>");
                //$("#thismonth").html(0 + "<span>kW·h</span>");

                //$("#nodata_year").css("display", "block");
                //$("#zlw-nhfxxkconyi").css("display", "none");

                //$("#zlw-nhfxconmidmikconyi").css("display", "none");
                //$("#nodata_7enery").css("display", "block");
                //$("#zlw-nhfxconmidrgkconyi").css("display", "none");
                //$("#nodata_7comp").css("display", "block");


                //option07.series[0].data = [{ value: 0, name: '总累计流量' }];
                //option07.series[0].detail.formatter = "{value} m³";
                //option07.tooltip.formatter = "{b} : {c} m³";
                //myChart07.setOption(option07);


                //option08.series[0].data = [{ value: 0, name: '总累计电量' }];
                //option08.series[0].detail.formatter = "{value} kW·h";
                //option08.tooltip.formatter = "{b} : {c} kW·h";
                //myChart08.setOption(option08);

                //$("#zlw_dynhfxx").css("display", "none");
                //$("#nodata_thisEnery").css("display", "block");

                //$("#zlw-nhzbkconyi").css("display", "none");
                //$("#nodata_thisComp").css("display", "block");

            }
        }
        //今日能耗
        var myChart01 = echarts.init(document.getElementById('zlw-nhqxconrgyi'));
        var option01 = {
            tooltip: {
                trigger: 'axis',
                show:false
            },
            grid: {
                left: 0,
                right: 10,
                top: 20,
                bottom: 10,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLine: {//x轴的样式控制
                    show: true,　//显示与否
                    lineStyle: {//线条样式
                        color: '#54658a',
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                    textStyle: {
                        color: '#54658a',
                    },//控制x轴字体样式
                    fontSize: 14,
                    margin: 15
                },
                 axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                },
                data: ['1','2','3','4','5','6','7','8','9']
            },
            yAxis: {
                type: 'value',
                splitLine: {//控制网格的线条样式
                    show: false,
                    lineStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 1,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                            },
                            {
                                offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                            },
                            {
                                offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                            }],
                            global: false // 缺省为 false
                        },
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLine: {//x轴的样式控制
                    show: false,　//显示与否
                },
                axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                }
            },
            series: [
                {
                    name: '能耗',
                    type: 'line',
                    stack: '总量',
                    data: [32, 221, 84, 95, 40, 270,140,180,60],
                    smooth: true,
                    symbol: 'roundRect',
                    itemStyle: {
                        color: '#1890ff'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(24, 144, 255,0.6)'
                        }, {
                            offset: 1,
                            color: 'rgba(0, 234, 255,0)'
                        }])
                    }
                }
            ]
        };
        myChart01.setOption(option01);

        //本周能耗
        var myChart03 = echarts.init(document.getElementById('zlw-nhqxconrgsan'));
        var option03 = {
           tooltip: {
                trigger: 'axis',
                show:false
            },
            grid: {
                left: 0,
                right: 10,
                top: 20,
                bottom: 10,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLine: {//x轴的样式控制
                    show: true,　//显示与否
                    lineStyle: {//线条样式
                        color: '#54658a',
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                    textStyle: {
                        color: '#54658a',
                    },//控制x轴字体样式
                    fontSize: 14,
                    margin: 15
                },
                 axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                },
                data: ['1','2','3','4','5','6','7','8','9']
            },
            yAxis: {
                type: 'value',
                splitLine: {//控制网格的线条样式
                    show: false,
                    lineStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 1,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                            },
                            {
                                offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                            },
                            {
                                offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                            }],
                            global: false // 缺省为 false
                        },
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLine: {//x轴的样式控制
                    show: false,　//显示与否
                },
                axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                }
            },
            series: [
                {
                    name: '能耗',
                    type: 'line',
                    stack: '总量',
                    data: [152, 221, 84, 95, 150, 199,140,180,60],
                    smooth: true,
                    symbol: 'roundRect',
                    itemStyle: {
                        color: '#ca8208'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(202, 130, 8,0.6)'
                        }, {
                            offset: 1,
                             color: 'rgba(202, 130, 8,0)'
                        }])
                    }
                }
            ]
        };
        myChart03.setOption(option03);

        //昨日能耗
        var myChart02 = echarts.init(document.getElementById('zlw-nhqxconrger'));
        var option02 = {
           tooltip: {
                trigger: 'axis',
                show:false
            },
            grid: {
                left: 0,
                right: 10,
                top: 20,
                bottom: 10,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLine: {//x轴的样式控制
                    show: true,　//显示与否
                    lineStyle: {//线条样式
                        color: '#54658a',
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                    textStyle: {
                        color: '#54658a',
                    },//控制x轴字体样式
                    fontSize: 14,
                    margin: 15
                },
                 axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                },
                data: ['1','2','3','4','5','6','7','8','9']
            },
            yAxis: {
                type: 'value',
                splitLine: {//控制网格的线条样式
                    show: false,
                    lineStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 1,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                            },
                            {
                                offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                            },
                            {
                                offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                            }],
                            global: false // 缺省为 false
                        },
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLine: {//x轴的样式控制
                    show: false,　//显示与否
                },
                axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                }
            },
            series: [
                {
                    name: '能耗',
                    type: 'line',
                    stack: '总量',
                    data: [88, 161, 54, 95, 60, 270,140,180,60],
                    smooth: true,
                    symbol: 'roundRect',
                    itemStyle: {
                        color: '#409248'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(64, 146, 72,0.6)'
                        }, {
                            offset: 1,
                             color: 'rgba(64, 146, 72,0)'
                        }])
                    }
                }
            ]
        };
        myChart02.setOption(option02);
        //本月能耗（小图表）
        var myChart04 = echarts.init(document.getElementById('zlw-nhqxconrgsi'));
        var option04 = {
           tooltip: {
                trigger: 'axis',
                show:false
            },
            grid: {
                left: 0,
                right: 10,
                top: 20,
                bottom: 10,
                containLabel: true
            },
            xAxis: {
                type: 'category',
                axisLine: {//x轴的样式控制
                    show: true,　//显示与否
                    lineStyle: {//线条样式
                        color: '#54658a',
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                    textStyle: {
                        color: '#54658a',
                    },//控制x轴字体样式
                    fontSize: 14,
                    margin: 15
                },
                 axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                },
                data: ['1','2','3','4','5','6','7','8','9']
            },
            yAxis: {
                type: 'value',
                splitLine: {//控制网格的线条样式
                    show: false,
                    lineStyle: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 1,
                            y2: 1,
                            colorStops: [{
                                offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                            },
                            {
                                offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                            },
                            {
                                offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                            }],
                            global: false // 缺省为 false
                        },
                        width: 1,
                        type: 'solid'
                    }
                },
                axisLine: {//x轴的样式控制
                    show: false,　//显示与否
                },
                axisTick: {
                    show: false
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: false,//显示与否
                }
            },
            series: [
                {
                    name: '能耗',
                    type: 'line',
                    stack: '总量',
                    data: [70, 221, 84, 95, 40, 200,140,180,50],
                    smooth: true,
                    symbol: 'roundRect',
                    itemStyle: {
                        color: '#ed6c83'
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                            offset: 0,
                            color: 'rgba(237, 108, 131,0.6)'
                        }, {
                            offset: 1,
                             color: 'rgba(237, 108, 131,0)'
                        }])
                    }
                }
            ]
        };
        myChart04.setOption(option04);
        //年度能耗统计
        var myChart1 = echarts.init(document.getElementById('zlw-nhfxxkconyi'));
        var option1 = {
            grid: {
                top: 30,
                left: 10,
                right: 15,
                bottom: 10,
                containLabel: true
            },
            tooltip: {
                 trigger: 'axis',
                formatter: function (params) {
                    var html = params[0].name + '：' + params[0].value + 'kW·h';
                    return html;
                }
            },
            color: ['#2ef3ff'],
            xAxis: {
                type: 'category',
                axisLabel: {
                    formatter: '{value} '
                },
                splitLine: {//控制网格的线条样式
                    show: true,
                    lineStyle: {
                        color: '#1a253b',
                        width: 1,
                        type: 'deshed'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: true,//显示与否
                    textStyle: { color: '#949fb5' },//控制x轴字体样式
                    fontSize: 14,
                },
                data: []
            },
            yAxis: {
                type: 'value',
                    name: 'kW·h',
                    nameTextStyle: {
                        color: "#fff",
                        fontSize: 14
                    },
                    axisLabel: {
                        formatter: '{value} '
                    },
                axisLabel: {
                    formatter: '{value} '
                },
                splitLine: {//控制网格的线条样式
                    show: true,
                    lineStyle: {
                        color: '#1a253b',
                        width: 1,
                        type: 'deshed'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: true,//显示与否
                    textStyle: { color: '#949fb5' },//控制x轴字体样式
                    fontSize: 14,
                },
            },
            "series": [{
                "name": "",
                "type": "pictorialBar",
                "symbolSize": [20, 10],
                "symbolOffset": [0, -5],
                "symbolPosition": "end",
                "z": 12,
                "label": {
                    "normal": {
                        "show": true,
                        "position": "top",
                        "formatter": "{c}"
                    }
                },
                "data": [60, 70, 80, 90, 60, 70, 80, 90]
            }, {
                "name": "",
                "type": "pictorialBar",
                "symbolSize": [20, 10],
                "symbolOffset": [0, 5],
                "z": 12,
                "data": [60, 70, 80, 90, 60, 70, 80, 90]
            }, {
                "type": "bar",
                "itemStyle": {
                    "normal": {
                        "opacity": 0.7
                    }
                },
                "barWidth": "20",
                "data": [60, 70, 80, 90, 60, 70, 80, 90],
                "markLine": {
                    "silent": true,
                    "symbol": "none",
                    "label": {
                        "position": "middle",
                        "formatter": "{b}"
                    },

                }
            },
            {
                            type: 'effectScatter',
                            silent: true,
                            tooltip: {
                                show: false
                            },
                            zlevel: 3,
                            symbolSize: 10,
                            showEffectOn: 'render',
                            rippleEffect: {
                                brushType: 'stroke',
                                color: '#3cefff',
                                scale: 5
                            },
                            itemStyle: {
                                color: '#3cefff'
                            },
                            hoverAnimation: true,
                            data: [0,0,0,0,0,0,0,0]
            },
            ]
        };

        //近7天能耗分析
        var myChart05 = echarts.init(document.getElementById('zlw-nhfxconmidmikconyi'));
        var option05 = {
             grid: {
                top: 30,
                left: 10,
                right: 10,
                bottom: 10,
                containLabel: true
            },
            "tooltip": {},
            color: ['#299cff'],
            xAxis: {
                type: 'category',
                axisLabel: {
                    formatter: '{value} '
                },
                splitLine: {//控制网格的线条样式
                    show: true,
                    lineStyle: {
                        color: '#1a253b',
                        width: 1,
                        type: 'deshed'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: true,//显示与否
                    textStyle: { color: '#949fb5' },//控制x轴字体样式
                    fontSize: 14,
                    interval: 0
                },
                data: []
            },
            yAxis: {
                type: 'value',
                    name: 'kW·h',
                    nameTextStyle: {
                        color: "#fff",
                        fontSize: 14
                    },
                    axisLabel: {
                        formatter: '{value} '
                    },
                axisLabel: {
                    formatter: '{value} '
                },
                splitLine: {//控制网格的线条样式
                    show: true,
                    lineStyle: {
                        color: '#1a253b',
                        width: 1,
                        type: 'deshed'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: true,//显示与否
                    textStyle: { color: '#949fb5' },//控制x轴字体样式
                    fontSize: 14,
                },
            },
            "series": [{
                "name": "",
                "type": "pictorialBar",
                "symbolSize": [20, 10],
                "symbolOffset": [0, -5],
                "symbolPosition": "end",
                "z": 12,
                "label": {
                    "normal": {
                        "show": true,
                        "position": "top",
                        "formatter": "{c}"
                    }
                },
                "data": [60, 70, 80, 90, 60, 70, 80, 90]
            }, {
                "name": "",
                "type": "pictorialBar",
                "symbolSize": [20, 10],
                "symbolOffset": [0, 5],
                "z": 12,
                "data": [60, 70, 80, 90, 60, 70, 80, 90]
            }, {
                "type": "bar",
                "itemStyle": {
                    "normal": {
                        "opacity": 0.7
                    }
                },
                "barWidth": "20",
                "data": [60, 70, 80, 90, 60, 70, 80, 90],
                "markLine": {
                    "silent": true,
                    "symbol": "none",
                    "label": {
                        "position": "middle",
                        "formatter": "{b}"
                    },

                }
            },
            {
                            type: 'effectScatter',
                            silent: true,
                            tooltip: {
                                show: false
                            },
                            zlevel: 3,
                            symbolSize: 10,
                            showEffectOn: 'render',
                            rippleEffect: {
                                brushType: 'stroke',
                                color: '#299cff',
                                scale: 5
                            },
                            itemStyle: {
                                color: '#1794ff'
                            },
                            hoverAnimation: true,
                            data: [0,0,0,0,0,0,0,0,0,0,0,0,0]
            },
            ]

          };
        //近七天单吨能耗
        var myChart06 = echarts.init(document.getElementById('zlw-nhfxconmidrgkconyi'));
        var option06 = {
            grid: {
                left: '40',
                top: '40',
                bottom: '12%',
                right: '10'
            },
            xAxis: {
                data: [],
                axisTick: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255, 129, 109, 0.1)',
                        width: 1 //这里是为了突出显示加上的
                    }
                },
                axisLabel: {
                    textStyle: {
                        color: '#d7d7d7',
                        fontSize: 12
                    }
                }
            },
            yAxis: [{
                type: 'value',
                    name: 'kW·h/m³',
                    nameTextStyle: {
                        color: "#fff",
                        fontSize: 14
                    },
                    axisLabel: {
                        formatter: '{value} '
                    },
                splitNumber: 2,
                axisTick: {
                    show: false
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255, 129, 109, 0.1)',
                        width: 1 //这里是为了突出显示加上的
                    }
                },
                axisLabel: {
                    textStyle: {
                        color: '#f0f0f0'
                    }
                },
                splitArea: {
                    areaStyle: {
                        color: 'rgba(255,255,255,.5)'
                    }
                },
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: 'rgba(255, 129, 109, 0.1)',
                        width: 0.5,
                        type: 'dashed'
                    }
                }
            }
            ],
            series: [{
                name: 'hill',
                type: 'pictorialBar',
                barCategoryGap: '0%',
                symbol: 'path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z',
                label: {
                    show: true,
                    position: 'top',
                    distance: 15,
                    color: '#78e4ff',
                    fontWeight: 'bolder',
                    fontSize: 15,
                },
                itemStyle: {
                    normal: {
                        color: {
                            type: 'linear',
                            x: 0,
                            y: 0,
                            x2: 0,
                            y2: 1,
                            colorStops: [{
                                offset: 0,
                                color: '#16d0ff' //  0%  处的颜色
                            },
                            {
                                offset: 1,
                                color: 'rgba(22, 208, 255,0.6)' //  100%  处的颜色
                            }
                            ],
                            global: false //  缺省为  false
                        }
                    },
                    emphasis: {
                        opacity: 1
                    }
                },
                data: [],
                z: 10
            }]
        };

        //总流量
        // var myChart07 = echarts.init(document.getElementById('zlw-nhfxqtkconlfyi'));
                                            // 指定图表的配置项和数据
        var option07 = {
            tooltip: { //弹窗组件
                formatter: "{b} : {c} m³"
            },
            series: [{
                name: '',
                type: 'gauge',
                radius: '70%',
                center: ['50%', '44%'],
                min: 0,
                max: 200,
                splitNumber:8,
                axisLine: { // 坐标轴线
                    lineStyle: { // 属性lineStyle控制线条样式
                        color: [
                            [0.2, '#0df8f8'],
                            [0.8, '#2199fe'],
                            [1, '#de6b32']
                        ],
                        width: 3, //表盘宽度
                        shadowBlur: 10
                    }
                },
                axisTick: { // 坐标轴小标记
                    length: 8, // 属性length控制线长
                    lineStyle: { // 属性lineStyle控制线条样式
                        color: 'transparent',
                        shadowColor: 'transparent', //默认透明
                        shadowBlur: 10
                    }
                },
                splitLine: {
                    show: true,
                    length: 5
                },
                detail: {
                    show: true,
                    fontSize: 17,
                    color: '#FFF',
                    formatter: '{value} m³',
                    offsetCenter: [0, '100%']
                },
                pointer: {
                    show: true,
                    length: '60%'
                },
                title: {
                    offsetCenter: [0, '130%'],
                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                        fontSize: 18,
                        fontStyle: 'normal',
                        color: '#dfd202',
                        shadowColor: '#fff', //默认透明
                        shadowBlur: 10,

                    }
                },
                data: [{ value: 0, name: '总累计流量' }]
            }]
        };
        //总能耗
        // var myChart08 = echarts.init(document.getElementById('zlw-nhfxqtkconrgyi'));
                                            // 指定图表的配置项和数据
        var dataArr = 44;
        var colorSet = {
            color: '#468EFD'
        };
        var option08 = {
            tooltip: { //弹窗组件
                formatter: "{b} : {c} kW·h"
            },
            series: [{
                name: '',
                type: 'gauge',
                radius: '70%',
                center: ['50%', '44%'],
                min: 0,
                max: 1000,
                axisLine: { // 坐标轴线
                    lineStyle: { // 属性lineStyle控制线条样式
                        color: [
                            [0.2, '#19fdc5'],
                            [0.8, '#02bf5b'],
                            [1, '#a419fd']
                        ],
                        width: 3, //表盘宽度
                        shadowBlur: 10
                    }
                },
                axisTick: { // 坐标轴小标记
                    length: 8, // 属性length控制线长
                    lineStyle: { // 属性lineStyle控制线条样式
                        color: 'transparent',
                        shadowColor: 'transparent', //默认透明
                        shadowBlur: 10
                    }
                },
                splitLine: {
                    show: true,
                    length: 5
                },
                detail: {
                    show: true,
                    fontSize: 17,
                    color: '#FFF',
                    formatter: '{value} kW·h',
                    offsetCenter: [0, '100%']
                },
                pointer: {
                    show: true,
                    length: '60%'
                },
                 title: {
                    offsetCenter: [0, '130%'],
                    textStyle: { // 其余属性默认使用全局文本样式，详见TEXTSTYLE
                        fontSize: 18,
                        fontStyle: 'normal',
                        color: '#dfd202',
                        shadowColor: '#fff', //默认透明
                        shadowBlur: 10,

                    }
                },
                data: [{ value: 0, name: '总累计电量' }]
            }]
        };
        //上月能耗分析
        var myChartby = echarts.init(document.getElementById('zlw_dynhfxx'));
        var data_val1=[0,0,0,0,0,0,0];
           var optionby = {
            grid: {
                top: 30,
                left: 10,
                right: 15,
                bottom: 30,
                containLabel: true
            },
            "tooltip": {},
            color: ['#2ef3ff'],
            xAxis: {
                type: 'category',
                axisLabel: {
                    formatter: '{value} '
                },
                splitLine: {//控制网格的线条样式
                    show: true,
                    lineStyle: {
                        color: '#1a253b',
                        width: 1,
                        type: 'deshed'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: true,//显示与否
                    textStyle: { color: '#949fb5' },//控制x轴字体样式
                    fontSize: 14,
                },
                data: []
            },
            yAxis: {
                type: 'value',
                    name: 'kW·h',
                    nameTextStyle: {
                        color: "#fff",
                        fontSize: 14
                    },
                    axisLabel: {
                        formatter: '{value} '
                    },
                axisLabel: {
                    formatter: '{value} '
                },
                splitLine: {//控制网格的线条样式
                    show: true,
                    lineStyle: {
                        color: '#1a253b',
                        width: 1,
                        type: 'deshed'
                    }
                },
                axisLabel: {//控制x轴上的文字的样式
                    show: true,//显示与否
                    textStyle: { color: '#949fb5' },//控制x轴字体样式
                    fontSize: 14,
                },
            },
            dataZoom: [
                {
                type: 'slider',
                start: 0,
                end: 70,
                bottom: 10,
                right: 20,
                height: 16,
                handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
                handleSize: '110%',
                handleStyle:{
                    color:"#d3dee5",
                  },
                textStyle:{
                    color:"#041A46"},
                  borderColor:"#90979c"
                }, {
                  "type": "inside",
                  "show": true,
                  "height": 15,
                  "start": 1,
                  "end": 35
            }],
            series: [
                {
                    type: 'bar',
                    name:'上月能耗',
                    tooltip:{
                        show:false
                    },
                    animation:false,
                    barWidth:1.4,
                    hoverAnimation:false,
                    data:[],
                    itemStyle:{
                        normal:{
                            color:'#06efec',
                            opacity:0.6,
                            label:{
                                show:false
                            }
                        }
                    }
                },
                {
                    type: 'line',
                    name:'距离',
                    animation:false,
                    symbol:'circle',
                    hoverAnimation:false,
                    data:data_val1,
                    itemStyle:{
                        normal:{
                            color:'#f17a52',
                            opacity:0,
                        }
                    },
                    lineStyle:{
                        normal:{
                            width:1,
                            color:'#384157',
                            opacity:1
                        }
                    }
                },
                {
                    type: 'line',
                    name:'上月能耗',
                    smooth:true,
                    symbolSize:6,
                    animation:false,
                    lineWidth:0.8,
                    hoverAnimation:false,
                    data:[],
                    symbol:'circle',
                    lineStyle: {
                        normal: {
                            width:2,
                            color: '#01f8f3',
                            shadowColor: '#01f8f3',
                            shadowBlur: 15,
                            shadowOffsetY: 0
                        }
                    },
                    itemStyle:{
                        normal:{
                            color:'#ffda22',
                            shadowBlur: 14,
                             shadowColor: '#ffda22',
                            label:{
                                show:true,
                                position:'top',
                                textStyle:{
                                    color:'#06efec',

                                }
                            }
                        }
                    },

                   areaStyle:{
                        normal:{
                            color:'#06efec',
                            opacity:0.08
                        }
                    }

                }
            ]
        };

        //近一个月单吨能耗
        var chartddnh = echarts.init(document.getElementById('zlw-nhzbkconyi'));
        var optionnh = {
               tooltip: {
                    trigger: 'axis'
                },
                grid: {
                    top: 30,
                    left: 15,
                    right: 20,
                    bottom: 30,
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    axisLine: {//x轴的样式控制
                        show: true,　//显示与否
                        lineStyle: {//线条样式
                            color: '#2c345c',
                            width: 1,
                            type: 'solid'
                        }
                    },
                    axisLabel: {//控制x轴上的文字的样式
                        show: true,//显示与否
                        textStyle: {
                            color: '#999bc6',
                        },//控制x轴字体样式
                        fontSize: 12,
                        margin: 10,
                    },
                    data: []
                },
                yAxis: [{
                    type: 'value',
                    name : 'kW·h/m³',
                    nameTextStyle:{
                        color:'#fff',
                        fontSize:15
                    },
                    splitLine: {//控制网格的线条样式
                                                    　　show:true,
                                                    　　lineStyle:{
                                                        　　　　color: {
                                type: 'linear',
                                x: 0,
                                y: 0,
                                x2: 1,
                                y2: 1,
                                colorStops: [{
                                    offset: 0, color: 'rgba(7,25,82,0.4)' // 0% 处的颜色
                                },
                                {
                                    offset: 0.5, color: 'rgba(87,98,133,1)' // 100% 处的颜色
                                },
                                {
                                    offset: 1, color: 'rgba(7,25,82,0.4)' // 100% 处的颜色
                                }],
                                global: false // 缺省为 false
                        },
                        　　　　width: 1,
                        　　　　type: 'solid'
                　　        }
                            },
                            axisLine:{//x轴的样式控制
                            　　									show: true,　//显示与否
                            },
                            axisTick:{
                                show:false,
                            },
                            axisLabel: {//控制x轴上的文字的样式
                            　　									show: true,//显示与否
                                textStyle: {
                                    color: '#999bc6',
                                    },//控制x轴字体样式
                            }
                        }

                        ],
                dataZoom: [
                            {
                                type: 'slider',
                                start: 0,
                                end: 100,
                                bottom: 10,
                                right: 20,
                                height: 16,
                                handleIcon: 'path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z',
                                handleSize: '110%',
                                handleStyle:{
                                    color:"#d3dee5",
                                  },
                                textStyle:{
                                    color:"#041A46"},
                                  borderColor:"#90979c"
                                }, {
                                  "type": "inside",
                                  "show": true,
                                  "height": 15,
                                  "start": 1,
                                  "end": 35
                                }],
                series: [
                    {
                        type: 'line',
                        symbolSize: 5, // 设定实心点的大小
                        data: [],
                        smooth: true,
                        itemStyle: {
                            color: '#1fbcfe'
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                                offset: 0,
                                color: 'rgba(31, 188, 254,0.8)'
                            }, {
                                offset: 1,
                                color: 'rgba(31, 188, 254,0)'
                            }])
                        }
                    }
                ]
        };


        //今日，本周的能耗数据
        function GetTodayAndThisWeek(deviceid) {
            $.post("/Sws/BigScreen_Consump/GetThisCompData", {deviceid:deviceid}, function (res) {
                $("#todaydata").html(res.todayData+"<span>kW·h</span>");
                $("#weekdata").html(res.thisWeekData + "<span>kW·h</span>");
                $("#yestdayData").html(res.yestData+"<span>kW·h</span>");
                //option01.xAxis.data = res.today_axis;
                //option01.series[0].data = res.today_data;
                //myChart01.setOption(option01);
                //option03.xAxis.data = res.week_axis;
                //option03.series[0].data = res.week_data;
                //myChart03.setOption(option03);

            })
        }
        //昨日能耗数据
        //function GetYestdayComp(deviceid) {
        //    $.post("/Sws/BigScreen_Consump/GetYestdayData", {deviceid:deviceid}, function (res) {
        //        $("#yestdayData").html(res.yestdayData + "<span>kW·h</span>");
        //        option02.xAxis.data = res.yestday_axis;
        //        option02.series[0].data = res.yestday_data;
        //        myChart02.setOption(option02);
        //    })
        //}
        ////本月能耗数据
        //function GetThisMonthComp(deviceid) {
        //    $.post("/Sws/BigScreen_Consump/GetThisMonthData", {deviceid:deviceid}, function (res) {
        //        $("#thismonth").html(res.monthData + "<span>kW·h</span>");
        //        option04.xAxis.data = res.month_axis;
        //        option04.series[0].data = res.month_data;
        //        myChart04.setOption(option04);
        //    })
        //}
        //年度能耗数据统计
        function GetYearData(deviceid) {
            $.post("/Sws/BigScreen_Consump/GetYearData", { deviceid: deviceid }, function (res) { 
                if (res.axis.length > 0) {

                    $("#zlw-nhfxxkconyi").css("display", "block");
                    $("#nodata_year").css("display", "none");
                    option1.xAxis.data = res.axis;
                    option1.series[0].data = res.datalist;
                    option1.series[1].data = res.datalist;
                    option1.series[2].data = res.datalist;
                    var dataEffect = [];
                    for (var i = 0; i < res.datalist.length; i++) {
                        dataEffect.push(0);
                    }
                    option1.series[3].data = dataEffect;
                    myChart1.setOption(option1);
                }
                else {
                     $("#nodata_year").css("display", "block");
                    $("#zlw-nhfxxkconyi").css("display", "none");
                }
                $("#thismonth").html(res.thisMonthData + "<span>kW·h</span>");
            })
        }
        //近七天能耗数据分析
        function GetCompData7Day(deviceid) {
            $.post("/Sws/BigScreen_Consump/GetEnergy7Day", { deviceid: deviceid }, function (res) {
                if (res.axis.length > 0) {
                    $("#zlw-nhfxconmidmikconyi").css("display", "block");
                    $("#nodata_7enery").css("display", "none");
                    $("#zlw-nhfxconmidrgkconyi").css("display", "block");
                    $("#nodata_7comp").css("display","none");
                    option05.xAxis.data = res.axis;
                    option05.series[0].data = res.energydata;
                    option05.series[1].data = res.energydata;
                    option05.series[2].data = res.energydata;
                    myChart05.setOption(option05);
                    option06.xAxis.data = res.axis;
                    option06.series[0].data = res.compdata;
                    myChart06.setOption(option06);
                }
                else {
                    $("#zlw-nhfxconmidmikconyi").css("display", "none");
                    $("#nodata_7enery").css("display", "block");
                    $("#zlw-nhfxconmidrgkconyi").css("display", "none");
                    $("#nodata_7comp").css("display","block");
                }
            })
        }

       /**
        * 总累计流量，总累计电量
        */
        function GetDataAll(deviceid) {
            $.post("/Sws/BigScreen_Consump/GetDataAll", {deviceid:deviceid}, function (data) { 
                $("#allFlow").html(data.totalflow);
                $("#allPower").html(data.totalpower);
                return false;
                // if (Math.abs(data.totalflow) <1000) {
                //    option07.series[0].max = (data.totalflow * 1.8/8).toFixed(0)*8;
                //    option07.series[0].data = [{ value: data.totalflow, name: '总累计流量' }];
                //    option07.series[0].detail.formatter = "{value} m³";
                //    option07.tooltip.formatter = "{b} : {c} m³";
                //}
                //  else if (Math.abs(data.totalflow) > 1000000000)
                //  {
                //           option07.series[0].max = (data.totalflow * 1.8/8 / 1000000000).toFixed(0)*8;
                //           option07.series[0].data = [{ value: (data.totalflow / 1000000000).toFixed(2), name: '总累计流量' }];
                //     option07.series[0].detail.formatter = "{value} km³";
                //     option07.tooltip.formatter = "{b} : {c} km³";
                //       }
                //  else {
                //           option07.series[0].max = (data.totalflow * 1.8/8 / 1000).toFixed(0)*8;
                //           option07.series[0].data = [{ value: (data.totalflow / 1000).toFixed(2), name: '总累计流量' }];
                //     option07.series[0].detail.formatter = "{value} K(m³)";
                //     option07.tooltip.formatter = "{b} : {c} K(m³)";
                //       }
                //    myChart07.setOption(option07);
                //if (Math.abs(data.totalpower) > 1000 && Math.abs(data.totalpower) < 1000000) {
                //           option08.series[0].max = (data.totalpower * 2.1 /10/ 1000).toFixed(0)*10;
                //           option08.series[0].data = [{ value: (data.totalpower / 1000).toFixed(2), name: '总累计电量' }];
                //    option08.series[0].detail.formatter = "{value} MW·h";
                //    option08.tooltip.formatter = "{b} : {c} MW·h";
                //       }
                //       else if (Math.abs(data.totalpower) >= 1000000)
                //       {
                //           option08.series[0].max = (data.totalpower * 2.1 /10/ 1000000).toFixed(0)*10;
                //           option08.series[0].data = [{ value: (data.totalpower / 1000000).toFixed(2), name: '总累计电量' }];
                //    option08.series[0].detail.formatter = "{value} GW·h";
                //     option08.tooltip.formatter = "{b} : {c} GW·h";
                //       }
                //       else {
                //           option08.series[0].max = (data.totalpower  * 2.1/ 10).toFixed(0)*10;
                //           option08.series[0].data = [{ value: data.totalpower, name: '总累计电量' }];
                //    option08.series[0].detail.formatter = "{value} kW·h";
                //    option08.tooltip.formatter = "{b} : {c} kW·h";
                //       }

                //       myChart08.setOption(option08);
            })
        }
        //本月能耗数据(改成上月能耗2020.4.2)
        function GetThisMonthEnery(deviceid) {
            $.post("/Sws/BigScreen_Consump/GetYestMonthEnery", { deviceid: deviceid }, function (data) {
                if (data.month_axis.length > 0) {
                    $("#zlw_dynhfxx").css("display", "block");
                    $("#nodata_thisEnery").css("display", "none");
                    optionby.xAxis.data = data.month_axis;
                    optionby.series[0].data = data.month_data;
                    optionby.series[2].data = data.month_data;
                    myChartby.setOption(optionby);
                }
                else {
                     $("#zlw_dynhfxx").css("display", "none");
                    $("#nodata_thisEnery").css("display","block");
                }
            })
        }
        //近一个月单吨能耗数据
         function GetThisMonthComp(deviceid) {
            $.post("/Sws/BigScreen_Consump/GetThisMonthComp", { deviceid: deviceid }, function (data) {
                if (data.month_axis.length > 0) {
                    $("#zlw-nhzbkconyi").css("display", "block");
                    $("#nodata_thisComp").css("display", "none");
                    optionnh.xAxis.data = data.month_axis;
                    optionnh.series[0].data = data.month_data;
                    chartddnh.setOption(optionnh);
                }
                else {
                     $("#zlw-nhzbkconyi").css("display", "none");
                    $("#nodata_thisComp").css("display","block");
                }
            })
        }
    </script>

</body>
</html>
