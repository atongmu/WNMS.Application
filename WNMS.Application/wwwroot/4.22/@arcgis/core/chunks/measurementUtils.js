/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
import{e as t,g as e,f as n,_ as r,d as o,E as i,a as s,n as a,m as u,b as f}from"./mathUtils.js";import{geodesicArea as c}from"../geometry/geometryEngine.js";import l from"../geometry/Polygon.js";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as g,projectVectorToWGS84ComparableLonLat as h}from"../geometry/projection.js";import p from"../geometry/SpatialReference.js";import{inverseGeodeticSolver as d}from"../geometry/support/geodesicUtils.js";import{p as y}from"./mathUtils2.js";var b;!function(f){f.boundingSphere=function(o,i){const s=i.center;t(s,0,0,0);for(let t=0;t<o.length;++t)e(s,s,o[t]);n(s,s,1/o.length);let a=0;for(let t=0;t<o.length;++t)a=Math.max(a,r(s,o[t]));i.radius=Math.sqrt(a)},f.bestFitPlane=function(t,e){if(t.length<3)throw new Error("need at least 3 points to fit a plane");y(t[0],t[1],t[2],e)},f.planePointDistance=function(t,e){return o(t,e)+t[3]},f.segmentLengthEuclidean=function(t,e,n){return m(t,j,n)&&m(e,P,n)?i(j,P):0},f.segmentLengthGeodesic=function(t,e){if(!g(t,j)||!g(e,P))return 0;const n={distance:null};return d(n,[j[0],j[1]],[P[0],P[1]]),n.distance},f.segmentLengthGeodesicVector=function(t,e,n){const r={distance:null};return d(r,[t[0],t[1]],[e[0],e[1]],n),r.distance},f.triangleAreaEuclidean=function(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],i=n[0]-t[0],s=n[1]-t[1];return.5*Math.abs(r*s-o*i)},f.triangleAreaGeodesic=function(t,e,n,r){const o=E;return h(t,r,j)&&h(e,r,P)&&h(n,r,M)?(o.setPoint(0,0,j),o.setPoint(0,1,P),o.setPoint(0,2,M),Math.abs(c(o,"square-meters"))):0},f.tangentFrame=function(e,n,r){Math.abs(e[0])>Math.abs(e[1])?t(n,0,1,0):t(n,1,0,0),s(r,e,n),a(n,n),s(n,r,e),a(r,r)},f.fitHemisphere=function(n,r=null,i=!0){const f=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let n=0;n<t.length;++n)if(o(e,t[n])<-1e-6)return!1;return!0};if(0===n.length)return!1;if(1===n.length)return r&&u(r,n[0]),!0;t(G,0,0,0);for(let t=0;t<n.length;++t)e(G,G,n[t]);if(a(G,G),f(n,G))return r&&u(r,G),!0;if(!i)return!1;for(let t=0;t<n.length;++t)for(let e=0;e<n.length;++e)if(t!==e&&(s(G,n[t],n[e]),a(G,G),f(n,G)))return r&&u(r,G),!0;return!1},f.compareSets=function(t,e){if(t===e)return!0;if(t.size!==e.size)return!1;for(let n=0;n<t.size;++n)if(!e.has(t[n]))return!1;return!0},f.isPrimaryPointerAction=function(t){return"mouse"!==t.pointerType||0===t.button}}(b||(b={}));const j=f(),P=f(),M=f(),E=new l({rings:[[j,P,M]],spatialReference:p.WGS84}),G=f(),S=b;export{S as m};
