/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function t(t,e,r,n){return function(t){return"function"==typeof t}(t)?t(e,r,n):t}function e(t){return[t.r,t.g,t.b,t.a]}function r(t,e,r){const a=t=>{let e=t.length;for(;e--;)if(-1===" /-,\n".indexOf(t.charAt(e)))return!1;return!0},o=[];let i=0,l=-1;do{if(l=e.indexOf("[",i),l>=i){if(l>i){const t=e.substr(i,l-i);o.push([t,null,a(t)])}if(i=l+1,l=e.indexOf("]",i),l>=i){if(l>i){const r=t[e.substr(i,l-i)];r&&o.push([null,r,!1])}i=l+1}}}while(-1!==l);if(i<e.length-1){const t=e.substr(i);o.push([t,null,a(t)])}return t=>{let e="",a=null;for(const r of o){const[n,o,i]=r;if(n)i?a=n:(a&&(e+=a,a=null),e+=n);else{const r=t.attributes[o];r&&(a&&(e+=a,a=null),e+=r)}}return n(e,r)}}function n(t,e){switch("string"!=typeof t&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function a(t,e,r,n,a,o,i=!0){const l=e/a,s=r/o,c=Math.ceil(l/2),u=Math.ceil(s/2);for(let r=0;r<o;r++)for(let M=0;M<a;M++){const f=4*(M+(i?o-r-1:r)*a);let p=0,C=0,y=0,I=0,h=0,k=0,d=0;const P=(r+.5)*s;for(let n=Math.floor(r*s);n<(r+1)*s;n++){const r=Math.abs(P-(n+.5))/u,a=(M+.5)*l,o=r*r;for(let r=Math.floor(M*l);r<(M+1)*l;r++){let i=Math.abs(a-(r+.5))/c;const l=Math.sqrt(o+i*i);l>=-1&&l<=1&&(p=2*l*l*l-3*l*l+1,p>0&&(i=4*(r+n*e),d+=p*t[i+3],y+=p,t[i+3]<255&&(p=p*t[i+3]/250),I+=p*t[i],h+=p*t[i+1],k+=p*t[i+2],C+=p))}}n[f]=I/C,n[f+1]=h/C,n[f+2]=k/C,n[f+3]=d/y}}function o(t){return t?{r:t[0],g:t[1],b:t[2],a:t[3]/255}:{r:0,g:0,b:0,a:0}}function i(t){var e;return null==(e=t.data)?void 0:e.symbol}function l(t){return"CIMVectorMarker"===t.type||"CIMPictureMarker"===t.type||"CIMBarChartMarker"===t.type||"CIMCharacterMarker"===t.type||"CIMPieChartMarker"===t.type||"CIMStackedBarChartMarker"===t.type}function s(t){return"CIMGradientStroke"===t.type||"CIMPictureStroke"===t.type||"CIMSolidStroke"===t.type}function c(t){return"CIMGradientFill"===t.type||"CIMHatchFill"===t.type||"CIMPictureFill"===t.type||"CIMSolidFill"===t.type||"CIMWaterFill"===t.type}function u(t){return"CIMMarkerPlacementAlongLineRandomSize"===t.type||"CIMMarkerPlacementAlongLineSameSize"===t.type||"CIMMarkerPlacementAlongLineVariableSize"===t.type||"CIMMarkerPlacementAtExtremities"===t.type||"CIMMarkerPlacementAtMeasuredUnits"===t.type||"CIMMarkerPlacementAtRatioPositions"===t.type||"CIMMarkerPlacementOnLine"===t.type||"CIMMarkerPlacementOnVertices"===t.type}const M=t=>t&&t.toLowerCase().replace(/\s+/g,"-"),f=t=>isNaN(t)||!t?0:t;export{n as _,s as a,c as b,u as c,r as d,t as e,o as f,e as g,f as h,l as i,M as j,a as r,i as t};
