/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
import{E as t,R as n}from"./common.js";function a(){return[0,0,0]}function r(t){return[t[0],t[1],t[2]]}function u(t,n,a){return[t,n,a]}function s(t){const n=[0,0,0],a=Math.min(3,t.length);for(let r=0;r<a;++r)n[r]=t[r];return n}function o(t,n){return new Float64Array(t,n,3)}function e(){return u(0,0,1)}const c=[0,0,0],i=u(1,1,1),f=e();function h(t){const n=t[0],a=t[1],r=t[2];return Math.sqrt(n*n+a*a+r*r)}function M(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function l(t,n,a,r){return t[0]=n,t[1]=a,t[2]=r,t}function m(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t}function b(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t}function x(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t}function q(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t}function p(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t}function g(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t}function v(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t}function N(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return Math.sqrt(a*a+r*r+u*u)}function _(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2];return a*a+r*r+u*u}function y(t){const n=t[0],a=t[1],r=t[2];return n*n+a*a+r*r}function A(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function z(t,n){const a=n[0],r=n[1],u=n[2];let s=a*a+r*r+u*u;return s>0&&(s=1/Math.sqrt(s),t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s),t}function L(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function w(t,n,a){const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2];return t[0]=u*c-s*e,t[1]=s*o-r*c,t[2]=r*e-u*o,t}function D(t,n,a,r){const u=n[0],s=n[1],o=n[2];return t[0]=u+r*(a[0]-u),t[1]=s+r*(a[1]-s),t[2]=o+r*(a[2]-o),t}function E(t,n,a){const r=n[0],u=n[1],s=n[2];return t[0]=a[0]*r+a[4]*u+a[8]*s+a[12],t[1]=a[1]*r+a[5]*u+a[9]*s+a[13],t[2]=a[2]*r+a[6]*u+a[10]*s+a[14],t}function I(t,n,a){const r=n[0],u=n[1],s=n[2];return t[0]=r*a[0]+u*a[3]+s*a[6],t[1]=r*a[1]+u*a[4]+s*a[7],t[2]=r*a[2]+u*a[5]+s*a[8],t}function P(t,n,a){const r=a[0],u=a[1],s=a[2],o=a[3],e=n[0],c=n[1],i=n[2];let f=u*i-s*c,h=s*e-r*i,M=r*c-u*e,l=u*M-s*h,m=s*f-r*M,d=r*h-u*f;const b=2*o;return f*=b,h*=b,M*=b,l*=2,m*=2,d*=2,t[0]=e+f+l,t[1]=c+h+m,t[2]=i+M+d,t}function j(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[0]*Math.cos(r)-u[1]*Math.sin(r),s[1]=u[0]*Math.sin(r)+u[1]*Math.cos(r),s[2]=u[2],t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t}const O=[0,0,0],F=[0,0,0];function Q(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function G(n,a){if(n===a)return!0;const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2];return Math.abs(r-o)<=t*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(u-e)<=t*Math.max(1,Math.abs(u),Math.abs(e))&&Math.abs(s-c)<=t*Math.max(1,Math.abs(s),Math.abs(c))}function R(t,n,a){const r=a[0]-n[0],u=a[1]-n[1],s=a[2]-n[2];let o=r*r+u*u+s*s;return o>0?(o=1/Math.sqrt(o),t[0]=r*o,t[1]=u*o,t[2]=s*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const X=d,Y=b,Z=x,k=N,B=_,C=h,H=y,J=Object.freeze({__proto__:null,length:h,copy:M,set:l,add:m,subtract:d,multiply:b,divide:x,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},min:q,max:p,round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:g,scaleAndAdd:v,distance:N,squaredDistance:_,squaredLength:y,negate:A,inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:z,dot:L,cross:w,lerp:D,hermite:function(t,n,a,r,u,s){const o=s*s,e=o*(2*s-3)+1,c=o*(s-2)+s,i=o*(s-1),f=o*(3-2*s);return t[0]=n[0]*e+a[0]*c+r[0]*i+u[0]*f,t[1]=n[1]*e+a[1]*c+r[1]*i+u[1]*f,t[2]=n[2]*e+a[2]*c+r[2]*i+u[2]*f,t},bezier:function(t,n,a,r,u,s){const o=1-s,e=o*o,c=s*s,i=e*o,f=3*s*e,h=3*c*o,M=c*s;return t[0]=n[0]*i+a[0]*f+r[0]*h+u[0]*M,t[1]=n[1]*i+a[1]*f+r[1]*h+u[1]*M,t[2]=n[2]*i+a[2]*f+r[2]*h+u[2]*M,t},random:function(t,a){a=a||1;const r=2*n()*Math.PI,u=2*n()-1,s=Math.sqrt(1-u*u)*a;return t[0]=Math.cos(r)*s,t[1]=Math.sin(r)*s,t[2]=u*a,t},transformMat4:E,transformMat3:I,transformQuat:P,rotateX:function(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[0],s[1]=u[1]*Math.cos(r)-u[2]*Math.sin(r),s[2]=u[1]*Math.sin(r)+u[2]*Math.cos(r),t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t},rotateY:function(t,n,a,r){const u=[],s=[];return u[0]=n[0]-a[0],u[1]=n[1]-a[1],u[2]=n[2]-a[2],s[0]=u[2]*Math.sin(r)+u[0]*Math.cos(r),s[1]=u[1],s[2]=u[2]*Math.cos(r)-u[0]*Math.sin(r),t[0]=s[0]+a[0],t[1]=s[1]+a[1],t[2]=s[2]+a[2],t},rotateZ:j,angle:function(t,n){M(O,t),M(F,n),z(O,O),z(F,F);const a=L(O,F);return a>1?0:a<-1?Math.PI:Math.acos(a)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:Q,equals:G,direction:R,sub:X,mul:Y,div:Z,dist:k,sqrDist:B,len:C,sqrLen:H});function K(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function S(t,n,a,r,u){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t}function T(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t}function U(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t}function V(t,n,a){return t[0]=n[0]*a[0],t[1]=n[1]*a[1],t[2]=n[2]*a[2],t[3]=n[3]*a[3],t}function W(t,n,a){return t[0]=n[0]/a[0],t[1]=n[1]/a[1],t[2]=n[2]/a[2],t[3]=n[3]/a[3],t}function $(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t}function tt(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],s=n[3]-t[3];return Math.sqrt(a*a+r*r+u*u+s*s)}function nt(t,n){const a=n[0]-t[0],r=n[1]-t[1],u=n[2]-t[2],s=n[3]-t[3];return a*a+r*r+u*u+s*s}function at(t){const n=t[0],a=t[1],r=t[2],u=t[3];return Math.sqrt(n*n+a*a+r*r+u*u)}function rt(t){const n=t[0],a=t[1],r=t[2],u=t[3];return n*n+a*a+r*r+u*u}function ut(t,n){const a=n[0],r=n[1],u=n[2],s=n[3];let o=a*a+r*r+u*u+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=a*o,t[1]=r*o,t[2]=u*o,t[3]=s*o),t}function st(t,n,a,r){const u=n[0],s=n[1],o=n[2],e=n[3];return t[0]=u+r*(a[0]-u),t[1]=s+r*(a[1]-s),t[2]=o+r*(a[2]-o),t[3]=e+r*(a[3]-e),t}function ot(t,n,a){const r=n[0],u=n[1],s=n[2],o=n[3];return t[0]=a[0]*r+a[4]*u+a[8]*s+a[12]*o,t[1]=a[1]*r+a[5]*u+a[9]*s+a[13]*o,t[2]=a[2]*r+a[6]*u+a[10]*s+a[14]*o,t[3]=a[3]*r+a[7]*u+a[11]*s+a[15]*o,t}function et(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}const ct=U,it=V,ft=W,ht=tt,Mt=nt,lt=at,mt=rt,dt=Object.freeze({__proto__:null,copy:K,set:S,add:T,subtract:U,multiply:V,divide:W,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},min:function(t,n,a){return t[0]=Math.min(n[0],a[0]),t[1]=Math.min(n[1],a[1]),t[2]=Math.min(n[2],a[2]),t[3]=Math.min(n[3],a[3]),t},max:function(t,n,a){return t[0]=Math.max(n[0],a[0]),t[1]=Math.max(n[1],a[1]),t[2]=Math.max(n[2],a[2]),t[3]=Math.max(n[3],a[3]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:$,scaleAndAdd:function(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t},distance:tt,squaredDistance:nt,length:at,squaredLength:rt,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},normalize:ut,dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},lerp:st,random:function(t,a){let r,u,s,o,e,c;a=a||1;do{r=2*n()-1,u=2*n()-1,e=r*r+u*u}while(e>=1);do{s=2*n()-1,o=2*n()-1,c=s*s+o*o}while(c>=1);const i=Math.sqrt((1-e)/c);return t[0]=a*r,t[1]=a*u,t[2]=a*s*i,t[3]=a*o*i,t},transformMat4:ot,transformQuat:function(t,n,a){const r=n[0],u=n[1],s=n[2],o=a[0],e=a[1],c=a[2],i=a[3],f=i*r+e*s-c*u,h=i*u+c*r-o*s,M=i*s+o*u-e*r,l=-o*r-e*u-c*s;return t[0]=f*i+l*-o+h*-c-M*-e,t[1]=h*i+l*-e+M*-o-f*-c,t[2]=M*i+l*-c+f*-e-h*-o,t[3]=n[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:et,equals:function(n,a){const r=n[0],u=n[1],s=n[2],o=n[3],e=a[0],c=a[1],i=a[2],f=a[3];return Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))&&Math.abs(u-c)<=t*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(s-i)<=t*Math.max(1,Math.abs(s),Math.abs(i))&&Math.abs(o-f)<=t*Math.max(1,Math.abs(o),Math.abs(f))},sub:ct,mul:it,div:ft,dist:ht,sqrDist:Mt,len:lt,sqrLen:mt}),bt=new Float32Array(1);function xt(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function qt(t,n,a){return Math.min(Math.max(t,n),a)}function pt(t,n){return 0===n?0:Math.round(t/n)*n}function gt(t){return 0==(t&t-1)}function vt(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function Nt(t){return 10**Math.ceil(Math.LOG10E*Math.log(t))}function _t(t,n,a){return t+(n-t)*a}function yt(t){return t*Math.PI/180}function At(t){return 180*t/Math.PI}function zt(t,n=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),n)}function Lt(t){return Math.acos(qt(t,-1,1))}function wt(t){return Math.asin(qt(t,-1,1))}function Dt(t,n,a=1e-6){if(isNaN(t)||isNaN(n))return!1;if(t===n)return!0;const r=Math.abs(t-n),u=Math.abs(t),s=Math.abs(n);if(0===t||0===n||u<1e-12&&s<1e-12){if(r>.01*a)return!1}else if(r/(u+s)>a)return!1;return!0}function Et(t,n,a=1e-6){if(isNaN(t)||isNaN(n))return!1;return(t>n?t-n:n-t)<=a}function It(t){return Pt(Math.max(-Qt,Math.min(t,Qt)))}function Pt(t){return bt[0]=t,bt[0]}function jt(t,n,a){const r=qt((a-t)/(n-t),0,1);return r*r*(3-2*r)}function Ot(t,n){const a=h(t);return l(n,a,wt(t[2]/a),Math.atan2(t[1]/a,t[0]/a)),n}function Ft(t,n,a){return S(t,n[0],n[1],n[2],n[3]*a)}const Qt=Pt(34028234663852886e22);export{$,xt as A,It as B,gt as C,vt as D,N as E,X as F,H as G,B as H,nt as I,ot as J,_t as K,R as L,y as M,Ot as N,i as O,o as P,Et as Q,Dt as R,Qt as S,P as T,s as U,st as V,A as W,G as X,jt as Y,c as Z,_,w as a,T as a0,e as a1,q as a2,p as a3,J as a4,dt as a5,b as a6,zt as a7,v as a8,f as a9,x as aa,k as ab,pt as ac,Nt as ad,Ft as ae,j as af,a as b,qt as c,L as d,l as e,g as f,m as g,D as h,Lt as i,E as j,u as k,h as l,M as m,z as n,yt as o,Q as p,r as q,At as r,d as s,I as t,et as u,C as v,K as w,ut as x,wt as y,S as z};
