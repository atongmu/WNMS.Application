"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3866],{92482:(e,t,i)=>{i.d(t,{N:()=>f,a:()=>r,b:()=>h,f:()=>l,k:()=>u,l:()=>a,t:()=>o,y:()=>c});var s=i(76506),n=(i(82426),i(21801));function r(e=d){return[e[0],e[1],e[2],e[3]]}function a(e,t,i,s,n=r()){return n[0]=e,n[1]=t,n[2]=i,n[3]=s,n}function l(e,t=r()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function o(e,t){return new n.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function c(e){return t=e,((0,s.b)(t)||t[0]>=t[2]?0:t[2]-t[0])*function(e){return e[1]>=e[3]?0:e[3]-e[1]}(e);var t}function u(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function h(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}const f=[1/0,1/0,-1/0,-1/0],d=[0,0,0,0]},60217:(e,t,i)=>{i.d(t,{A:()=>u,a:()=>o,b:()=>l,c:()=>c,l:()=>a}),i(74569);var s=i(76506),n=i(60947);let r;function a(){return r||(r=(async()=>{const e=await i.e(1886).then(i.bind(i,1886)).then((e=>e.R));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),r}const l=(e,t,i)=>u.create(e,t,i,null,["$feature"]),o=(e,t,i)=>u.create(e,t,i,null,["$feature","$view"]),c=(e,t,i,s)=>u.create(e,t,i,s,["$feature","$view"]);class u{constructor(e,t,i,s,n,r,a,l){this.script=e,this.evaluate=n;const o=Array.isArray(a)?a:a.fields;this.fields=o,this._syntaxTree=s,this._arcade=t,this._arcadeDictionary=i,this._arcadeFeature=r,this._spatialReference=l,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,i,r,l,o){const{arcade:c,Feature:h,Dictionary:f}=await a(),d=n.Z.fromJSON(t),m=c.parseScript(e,o),g=l.reduce(((e,t)=>({...e,[t]:null})),{});let p=null;(0,s.i)(r)&&(p=new f(r),p.immutable=!0,g.$config=null);const _=c.scriptUsesGeometryEngine(m)&&c.enableGeometrySupport(),y=c.scriptUsesFeatureSet(m)&&c.enableFeatureSetSupport(),b=c.scriptIsAsync(m)&&c.enableAsyncSupport(),v={vars:g,spatialReference:d,useAsync:!!b},F=new f;F.immutable=!1,F.setField("scale",0);const S=c.compileScript(m,v);return await Promise.all([_,y,b]),new u(e,c,f,m,(e=>("$view"in e&&e.$view&&(F.setField("scale",e.$view.scale),e.$view=F),p&&(e.$config=p),S({vars:e,spatialReference:d}))),new h,i,d)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},29794:(e,t,i)=>{i.d(t,{E:()=>s,R:()=>n});const s=1e-6,n=Math.random;Math.PI,Math.PI},54732:(e,t,i)=>{i.d(t,{k:()=>s});const s=new(i(57251).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},95587:(e,t,i)=>{i.d(t,{S:()=>a,W:()=>c,a:()=>h,b:()=>u,c:()=>l,d:()=>o,e:()=>d,g:()=>f});var s=i(60947),n=i(89623);function r(e){return new s.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const a=r(n.e),l=r(n.m),o=r(n.a),c=new s.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${n.e.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function u(e){return e&&e===n.m?l:e&&e===n.a?o:a}function h(e){return e&&((0,s.f)(e)||e===l)?l:e&&((0,s.h)(e)||e===o)?o:a}function f(e){return e&&((0,s.f)(e)||e===l)?n.m:e&&((0,s.h)(e)||e===o)?n.a:n.e}function d(e){return(0,s.c)(e)?n.m:(0,s.d)(e)?n.a:n.e}},3530:(e,t,i)=>{function s(e){return(t,i)=>{t[i]=e}}i.d(t,{s:()=>s})},77358:(e,t,i)=>{i.d(t,{a:()=>l,c:()=>c,l:()=>g,m:()=>h,s:()=>m});var s=i(60947),n=i(14249);class r{constructor(){this.code=null,this.description=null}}class a{constructor(e){this.error=new r,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function l(e){return new a(e)}class o{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new o(e)}const u=new Set;function h(e,t,i,s=!1,r){u.clear();for(const a in i){const o=e.get(a);if(!o)continue;const c=i[a],h=f(o,c);if(h!==c&&r&&r.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:o,originalValue:c,sanitizedValue:h}}),u.add(o.name),o&&(s||o.editable)){const e=(0,n.Qc)(o,h);if(e)return l((0,n.vP)(e,o,h));t[o.name]=h}}for(const t of e.requiredFields)if(!u.has(t.name))return l(`missing required field "${t.name}"`);return null}function f(e,t){let i=t;return"string"==typeof t&&(0,n.H7)(e)?i=parseFloat(t):null!=t&&(0,n.qN)(e)&&"string"!=typeof t&&(i=String(t)),(0,n.Pz)(i)}let d;function m(e,t){if(!e||!(0,s.j)(t))return e;if("rings"in e||"paths"in e){if(!d)throw new TypeError("geometry engine not loaded");return d.simplify(t,e)}return e}async function g(e,t){!(0,s.j)(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t||await async function(){return d||(d=await Promise.all([i.e(3361),i.e(5892)]).then(i.bind(i,43981)).then((e=>e.g)),d)}()}},22781:(e,t,i)=>{i.d(t,{f:()=>n,t:()=>r});var s=i(57251);const n=(0,s.s)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),r=(0,s.s)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},53785:(e,t,i)=>{i.d(t,{a:()=>U,b:()=>I,c:()=>F,d:()=>w,e:()=>N,f:()=>P,g:()=>T,i:()=>o,l:()=>S,u:()=>A,w:()=>C});var s=i(76506),n=i(57251),r=i(95587),a=i(60947),l=i(89623);const o=39.37,c=l.e.radius*Math.PI/200,u=/UNIT\[([^\]]+)\]\]$/i,h=a.o,f=/UNIT\[([^\]]+)\]/i,d=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),m=(0,n.s)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),g=e=>e*e,p=e=>e*e*e,_={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:g(.001)},"square-centimeters":{inBaseUnits:g(.01)},"square-decimeters":{inBaseUnits:g(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:g(1e3)},"square-inches":{inBaseUnits:g(.0254)},"square-feet":{inBaseUnits:g(.3048)},"square-yards":{inBaseUnits:g(.9144)},"square-miles":{inBaseUnits:g(1609.344)},"square-us-feet":{inBaseUnits:g(1200/3937)},acres:{inBaseUnits:.0015625*g(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*p(.001)},"cubic-centimeters":{inBaseUnits:1e3*p(.01)},"cubic-decimeters":{inBaseUnits:1e3*p(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*p(1e3)},"cubic-inches":{inBaseUnits:1e3*p(.0254)},"cubic-feet":{inBaseUnits:1e3*p(.3048)},"cubic-yards":{inBaseUnits:1e3*p(.9144)},"cubic-miles":{inBaseUnits:1e3*p(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},y=function(){const e={};for(const t in _)for(const i in _[t].units)e[i]=t;return e}();function b(e){const t=y[e];if(t)return t;throw new Error("unknown measure")}function v(e,t=null){return t=t||b(e),_[t].baseUnit===e}function F(e,t,i){if(t===i)return e;const s=b(t);if(s!==b(i))throw new Error("incompatible units");const n=v(t,s)?e:function(e,t,i){return e*_[i].units[t].inBaseUnits}(e,t,s);return v(i,s)?n:function(e,t,i){return e/_[i].units[t].inBaseUnits}(n,i,s)}function S(e,t,i){return F(e,t,"meters")/(i*Math.PI/180)}function A(e){return m.fromJSON(e.toLowerCase())||null}function I(e){if(e&&"object"==typeof e&&!(0,a.b)(e))return 1;const t=w(e);return t>1e5?1:t}function T(e){return w(e)>=(e instanceof a.Z?(0,r.g)(e).metersPerDegree:1e5)?"meters":C(e)}function w(e,t=l.e.metersPerDegree){return U(e,!0)||t}function U(e,t=!1){let i,s,n=null;if(null!=e&&("object"==typeof e?(i=e.wkid,s=e.wkt):"number"==typeof e?i=e:"string"==typeof e&&(s=e)),i){if((0,a.c)(i))return l.m.metersPerDegree;if((0,a.d)(i))return l.a.metersPerDegree;n=h.values[h[i]],!n&&t&&d.has(i)&&(n=c)}else s&&(G(s)?n=E(u.exec(s),n):O(s)&&(n=E(f.exec(s),n)));return n}function E(e,t){return e&&e[1]?x(e[1]):t}function x(e){return parseFloat(e.split(",")[1])}function C(e){let t,i,n=null;if(null!=e&&("object"==typeof e?(t=e.wkid,i=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(i=e)),t)n=h.units[h[t]];else if(i){const e=G(i)?u:O(i)?f:null;if(e){const t=e.exec(i);t&&t[1]&&(n=function(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let i=t&&t[1];if(!i||-1===h.units.indexOf(i)){const t=x(e);i=null;const s=h.values;for(let e=0;e<s.length;++e)if(Math.abs(t-s[e])<1e-7){i=h.units[e];break}}return i}(t[1]))}}return(0,s.i)(n)?A(n):null}function O(e){return/^GEOCCS/i.test(e)}function G(e){return/^PROJCS/i.test(e)}const B={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},q={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},N=(0,n.s)()(B),P=(0,n.s)()(q);(0,n.s)()({...B,...q})},15324:(e,t,i)=>{i.d(t,{Z:()=>U});var s,n=i(29768),r=i(91055),a=i(76996),l=i(76506),o=i(6906),c=i(34250),u=i(91306),h=i(3530),f=i(17533),d=i(21972);i(22723),i(50406),i(60991),i(92143),i(31450),i(71552),i(40642),i(86656),i(23639);class m{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new d.O(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const i=e[t];i.onInvalidated(),i.onCommitted()}}}const g=new r.O(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),p=()=>{};function _(e){return e?e instanceof w?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function y(e){if(e&&e.length)return e[0]}function b(e,t,i,s){const n=Math.min(e.length-i,t.length-s);let r=0;for(;r<n&&e[i+r]===t[s+r];)r++;return r}function v(e,t,i,s){t&&t.forEach(((t,n,r)=>{e.push(t),v(e,i.call(s,t,n,r),i,s)}))}const F=new Set,S=new Set,A=new Set,I=new Map;let T=0,w=s=class extends a.E.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new m,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:T++})}static isCollection(e){return null!=e&&e instanceof s}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof s?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,f.t)(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,_(e)),this._emitAfterChanges(1))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,i={removed:!1,callback:t};return e.push(i),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=p,i.removed=!0,e.splice(e.indexOf(i),1)}}}return this._emitter.on(e,t)}once(e,t){const i=this.on(e,t);return{remove(){i.remove()}}}add(e,t){if((0,f.t)(this._observable),this._emitBeforeChanges(1))return this;const i=this.getNextIndex(null!=t?t:null);return this._splice(i,0,[e]),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if((0,f.t)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const i=this.getNextIndex(t);return this._splice(i,0,_(e)),this._emitAfterChanges(1),this}removeAll(){if((0,f.t)(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return(0,f.t)(this._observable),this._createNewInstance({items:this._items.map(l.d9)})}concat(...e){(0,f.t)(this._observable);const t=e.map(_);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if((0,f.t)(this._observable),!this.length||this._emitBeforeChanges(2))return;const i=(0,l.a)(this._splice(0,this.length)),s=i.length;for(let n=0;n<s;n++)e.call(t,i[n],n,i);this._emitAfterChanges(2)}every(e,t){return(0,f.t)(this._observable),this._items.every(e,t)}filter(e,t){let i;return(0,f.t)(this._observable),i=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:i})}find(e,t){return(0,f.t)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,f.t)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,f.t)(this._observable);const i=[];return v(i,this,e,t),new s(i)}forEach(e,t){return(0,f.t)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,f.t)(this._observable),this._items[e]}getNextIndex(e){(0,f.t)(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return(0,f.t)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return(0,f.t)(this._observable),this._items.indexOf(e,t)}join(e=","){return(0,f.t)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return(0,f.t)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,f.t)(this._observable);const i=this._items.map(e,t);return new s({items:i})}reorder(e,t=this.length-1){(0,f.t)(this._observable);const i=this.indexOf(e);if(-1!==i){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(4))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(4)}return e}}pop(){if((0,f.t)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=y(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return(0,f.t)(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,e),this._emitAfterChanges(1)),this.length}reduce(e,t){(0,f.t)(this._observable);const i=this._items;return 2===arguments.length?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){(0,f.t)(this._observable);const i=this._items;return 2===arguments.length?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return(0,f.t)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,f.t)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=y(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if((0,f.t)(this._observable),!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof s?e.toArray():e,i=this._items,n=[],r=t.length;for(let e=0;e<r;e++){const s=t[e],r=i.indexOf(s);if(r>-1){const s=1+b(t,i,e+1,r+1),a=this._splice(r,s);a&&a.length>0&&n.push.apply(n,a),e+=s-1}}return this._emitAfterChanges(2),n}reverse(){if((0,f.t)(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(4),this}shift(){if((0,f.t)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=y(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return(0,f.t)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,f.t)(this._observable),this._items.some(e,t)}sort(e){if((0,f.t)(this._observable),!this.length||this._emitBeforeChanges(4))return this;const t=(0,l.a)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(4),this}splice(e,t,...i){(0,f.t)(this._observable);const s=(t?2:0)|(i.length?1:0);if(this._emitBeforeChanges(s))return[];const n=this._splice(e,t,i)||[];return this._emitAfterChanges(s),n}toArray(){return(0,f.t)(this._observable),this._items.slice()}toJSON(){return(0,f.t)(this._observable),this.toArray()}toLocaleString(){return(0,f.t)(this._observable),this._items.toLocaleString()}toString(){return(0,f.t)(this._observable),this._items.toString()}unshift(...e){return(0,f.t)(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const s=this._items,n=this.itemType;let r,a;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,o.Os)((()=>this._dispatchChange()))),t){if(a=s.splice(e,t),this.hasEventListener("before-remove")){const t=g.acquire();t.target=this,t.cancellable=!0;for(let i=0,n=a.length;i<n;i++)r=a[i],t.reset(r),this.emit("before-remove",t),t.defaultPrevented&&(a.splice(i,1),s.splice(e,0,r),e+=1,i-=1,n-=1);g.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=g.acquire();e.target=this,e.cancellable=!1;const t=a.length;for(let i=0;i<t;i++)e.reset(a[i]),this.emit("after-remove",e);g.release(e)}}if(i&&i.length){if(n){const e=[];for(const t of i){const i=n.ensureType(t);null==i&&null!=t||e.push(i)}i=e}const t=this.hasEventListener("before-add"),r=this.hasEventListener("after-add"),a=e===this.length;if(t||r){const n=g.acquire();n.target=this,n.cancellable=!0;const l=g.acquire();l.target=this,l.cancellable=!1;for(const o of i)t?(n.reset(o),this.emit("before-add",n),n.defaultPrevented||(a?s.push(o):s.splice(e++,0,o),this._set("length",s.length),r&&(l.reset(o),this.emit("after-add",l)))):(a?s.push(o):s.splice(e++,0,o),this._set("length",s.length),l.reset(o),this.emit("after-add",l));g.release(l),g.release(n)}else{if(a)for(const e of i)s.push(e);else s.splice(e,0,...i);this._set("length",s.length)}}return(i&&i.length||a&&a.length)&&this._notifyChangeEvent(i,a),a}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=g.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,g.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=g.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),g.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;F.clear(),S.clear(),A.clear();for(const{added:t,removed:i}of e){if(t)if(0===A.size&&0===S.size)for(const e of t)F.add(e);else for(const e of t)S.has(e)?(A.add(e),S.delete(e)):A.has(e)||F.add(e);if(i)if(0===A.size&&0===F.size)for(const e of i)S.add(e);else for(const e of i)F.has(e)?F.delete(e):(A.delete(e),S.add(e))}const i=r.A.acquire();F.forEach((e=>{i.push(e)}));const s=r.A.acquire();S.forEach((e=>{s.push(e)}));const n=this._items,a=t.items,l=r.A.acquire();if(A.forEach((e=>{a.indexOf(e)!==n.indexOf(e)&&l.push(e)})),t.listeners&&(i.length||s.length||l.length)){const e={target:this,added:i,removed:s,moved:l},n=t.listeners.length;for(let i=0;i<n;i++){const s=t.listeners[i];s.removed||s.callback.call(this,e)}}r.A.release(i),r.A.release(s),r.A.release(l)}F.clear(),S.clear(),A.clear()}};w.ofType=e=>{if(!e)return s;if(I.has(e))return I.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const s=e.typeMap[i].prototype.declaredClass;t?t+=` | ${s}`:t=s}let i=class extends s{};return(0,n._)([(0,h.s)({Type:e,ensureType:"function"==typeof e?(0,u.e)(e):(0,u.a)(e)})],i.prototype,"itemType",void 0),i=(0,n._)([(0,f.j)(`esri.core.Collection<${t}>`)],i),I.set(e,i),i},(0,n._)([(0,c.Cb)()],w.prototype,"length",void 0),(0,n._)([(0,c.Cb)()],w.prototype,"items",null),w=s=(0,n._)([(0,f.j)("esri.core.Collection")],w);const U=w},74569:(e,t,i)=>{i.d(t,{qM:()=>u});var s=i(91306),n=i(21801),r=i(73796),a=i(84069),l=i(91597),o=i(44567),c=i(92896);i(60947),i(22781),i(32422),i(76506),i(92143),i(31450),i(71552),i(40642),i(34250),i(86656),i(22723),i(17533),i(60991),i(35132),i(89623),i(74673),i(21972),i(23639),i(91055),i(6906),i(50406),i(2906),i(97714),i(86787),i(98380),i(57251);const u={base:r.Z,key:"type",typeMap:{extent:n.Z,multipoint:a.Z,point:l.Z,polyline:c.Z,polygon:o.Z}};(0,s.a)(u)},32422:(e,t,i)=>{i.d(t,{im:()=>g,q9:()=>y,Ji:()=>p,YX:()=>u,aW:()=>h,wp:()=>f,oU:()=>m,l9:()=>d});var s=i(76506),n=i(21801),r=i(73796),a=i(84069),l=i(91597),o=i(44567),c=i(92896);function u(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function h(e){return void 0!==e.points}function f(e){return void 0!==e.x&&void 0!==e.y}function d(e){return void 0!==e.paths}function m(e){return void 0!==e.rings}function g(e){return(0,s.b)(e)?null:e instanceof r.Z?e:f(e)?l.Z.fromJSON(e):d(e)?c.Z.fromJSON(e):m(e)?o.Z.fromJSON(e):h(e)?a.Z.fromJSON(e):u(e)?n.Z.fromJSON(e):null}function p(e){return e?f(e)?"esriGeometryPoint":d(e)?"esriGeometryPolyline":m(e)?"esriGeometryPolygon":u(e)?"esriGeometryEnvelope":h(e)?"esriGeometryMultipoint":null:null}i(40642),i(71552),i(34250),i(92143),i(31450),i(91306),i(86656),i(22723),i(17533),i(60991),i(60947),i(74673),i(21972),i(23639),i(91055),i(6906),i(50406),i(2906),i(35132),i(89623),i(97714),i(86787),i(98380);const _={esriGeometryPoint:l.Z,esriGeometryPolyline:c.Z,esriGeometryPolygon:o.Z,esriGeometryEnvelope:n.Z,esriGeometryMultipoint:a.Z};function y(e){return e&&_[e]||null}},1709:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(14249);function n(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function r(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}i(60991),i(76506),i(92143),i(31450),i(71552),i(40642),i(60217),i(74569),i(91306),i(21801),i(34250),i(86656),i(22723),i(17533),i(73796),i(74673),i(21972),i(23639),i(91055),i(6906),i(50406),i(97714),i(60947),i(2906),i(91597),i(86787),i(35132),i(89623),i(84069),i(44567),i(98380),i(92896),i(22781),i(57251),i(32422);class a{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!e)return;const t=[];for(const a of e){const e=a&&a.name;if(e){const o=l(e);this._fieldsMap.set(e,a),this._fieldsMap.set(o,a),t.push(o),"date"===(i=a).type||"esriFieldTypeDate"===i.type?(this.dateFields.push(a),this._dateFieldsSet.add(a)):(0,s.H7)(a)&&(this._numericFieldsSet.add(a),this.numericFields.push(a)),n(a)||r(a)||(a.editable=null==a.editable||!!a.editable,a.nullable=null==a.nullable||!!a.nullable)}}var i;t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)n(e)||r(e)||e.nullable||void 0!==(0,s.os)(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(l(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}function l(e){return e.toLowerCase().trim()}},14249:(e,t,i)=>{i.d(t,{io:()=>_,AB:()=>p,gd:()=>g,Mu:()=>v,Q0:()=>m,YN:()=>u,UF:()=>f,O5:()=>y,os:()=>F,H7:()=>G,qN:()=>B,v5:()=>C,Pz:()=>P,Qc:()=>M,vP:()=>V});var s,n,r=i(60991),a=(i(76506),i(71552)),l=i(60217);i(92143),i(31450),i(40642),i(74569),i(91306),i(21801),i(34250),i(86656),i(22723),i(17533),i(73796),i(74673),i(21972),i(23639),i(91055),i(6906),i(50406),i(97714),i(60947),i(2906),i(91597),i(86787),i(35132),i(89623),i(84069),i(44567),i(98380),i(92896),i(22781),i(57251),i(32422),(n=s||(s={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",n.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";const o=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],c=["field","normalizationField"];function u(e,t){if(null!=e&&null!=t)for(const i of Array.isArray(e)?e:[e])if(h(o,i,t),"visualVariables"in i&&i.visualVariables)for(const e of i.visualVariables)h(c,e,t)}function h(e,t,i){if(e)for(const s of e){const e=(0,a.g)(s,t),n=e&&"function"!=typeof e&&i.get(e);n&&(0,a.s)(s,n.name,t)}}function f(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const i=t.get(e.startField),s=t.get(e.endField);e.startField=i&&i.name||null,e.endField=s&&s.name||null}else{const i=t.get(e.startTimeField),s=t.get(e.endTimeField);e.startTimeField=i&&i.name||null,e.endTimeField=s&&s.name||null}}const d=new Set;function m(e,t){return e&&t?(d.clear(),g(d,e,t),Array.from(d).sort()):[]}function g(e,t,i){var s;if(i)if(null!=t&&null!=(s=t.fields)&&s.length)if(i.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const s of i)p(e,t,s);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const t of i)e.add(t)}}function p(e,t,i){if("string"==typeof i)if(t){const s=t.get(i);s&&e.add(s.name)}else e.add(i)}async function _(e,t,i){var s;if(!i)return;const{arcadeUtils:n}=await(0,l.l)(),r=n.extractFieldNames(i,null==t||null==(s=t.fields)?void 0:s.map((e=>e.name)));for(const i of r)p(e,t,i)}function y({displayField:e,fields:t}){return e||(t&&t.length?b(t,"name-or-title")||b(t,"unique-identifier")||b(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function b(e,t){for(const i of e)if(i&&i.valueType&&i.valueType===t)return i.name;return null}async function v(e,t){const{labelingInfo:s,fieldsIndex:n}=t;s&&s.length&&await Promise.all(s.map((t=>async function(e,t,s){if(!s)return;const n=s.getLabelExpression(),a=s.where;if("arcade"===n.type)await _(e,t,n.expression);else{const i=n.expression.match(/{[^}]*}/g);i&&i.forEach((i=>{p(e,t,i.slice(1,-1))}))}await async function(e,t,s){if(s&&"1=1"!==s){const n=(await Promise.all([i.e(2274),i.e(5777)]).then(i.bind(i,72274))).WhereClause.create(s,t);if(!n.isStandardized)throw new r.Z("fieldUtils:collectFilterFields","Where clause is not standardized");g(e,t,n.fieldNames)}}(e,t,a)}(e,n,t))))}function F(e){const t=e.defaultValue;return void 0!==t&&x(e,t)?t:e.nullable?null:void 0}function S(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function A(e){return null===e||S(e)}const I="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function T(e){return null===e||I(e)}function w(e){return null!=e&&"string"==typeof e}function U(e){return null===e||w(e)}function E(){return!0}function x(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":i=e.nullable?T:I;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?A:S;break;case"string":case"esriFieldTypeString":i=e.nullable?U:w;break;default:i=E}return 1===arguments.length?i:i(t)}const C=["integer","small-integer","single","double"],O=new Set([...C,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function G(e){return null!=e&&O.has(e.type)}function B(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}var q,N;function P(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function M(e,t){return e.nullable&&null===t?null:G(e)&&!function(e,t){const i="string"==typeof e?D(e):e;return!!i&&(i.isInteger?I(t)&&t>=i.min&&t<=i.max:t>=i.min&&t<=i.max)}(e.type,Number(t))?q.OUT_OF_RANGE:x(e,t)?e.domain?function(e,t){switch(e.type){case"range":{const i="range"in e?e.range[0]:e.minValue,n="range"in e?e.range[1]:e.maxValue;if(+t<i||+t>n)return s.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return s.INVALID_CODED_VALUE}return null}(e.domain,t):null:N.INVALID_TYPE}function D(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return L;case"esriFieldTypeInteger":case"integer":return k;case"esriFieldTypeSingle":case"single":return R;case"esriFieldTypeDouble":case"double":return $}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(q||(q={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(N||(N={}));const L={min:-32768,max:32767,isInteger:!0},k={min:-2147483648,max:2147483647,isInteger:!0},R={min:-34e37,max:12e37,isInteger:!1},$={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function V(e,t,i){switch(e){case s.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case s.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case N.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case q.OUT_OF_RANGE:{const{min:e,max:s}=D(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${s}`}}}}}]);