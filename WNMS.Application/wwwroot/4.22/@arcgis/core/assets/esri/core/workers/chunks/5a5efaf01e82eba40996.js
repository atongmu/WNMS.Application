"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[873,2058],{76996:(e,t,n)=>{n.d(t,{E:()=>l});var r=n(29768),s=n(21972),o=n(22723),i=n(17533);class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this.target=e,this._listenersMap=null}clear(){this._listenersMap&&this._listenersMap.clear(),this._listenersMap=null}emit(e,t){const n=this._listenersMap&&this._listenersMap.get(e);if(!n)return!1;const r=this.target||this;return[...n].forEach((e=>{e.call(r,t)})),n.length>0}on(e,t){if(Array.isArray(e)){const n=e.map((e=>this.on(e,t)));return(0,o.h)(n)}if(e.indexOf(",")>-1)throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const n=this._listenersMap.get(e)||[];return n.push(t),this._listenersMap.set(e,n),{remove:()=>{const n=this._listenersMap&&this._listenersMap.get(e)||[],r=n.indexOf(t);r>=0&&n.splice(r,1)}}}once(e,t){const n=this.on(e,(e=>{n.remove(),t.call(null,e)}));return n}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let n=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return n=(0,r._)([(0,i.j)("esri.core.Evented")],n),n};let n=class extends s.Z{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};n=(0,r._)([(0,i.j)("esri.core.Evented")],n),e.EventedAccessor=n}(a||(a={}));const l=a},30831:(e,t,n)=>{n.d(t,{I:()=>s});var r=n(91700);class s{constructor(e,t){this._storage=new r.M,this._storage.maxSize=e,t&&this._storage.registerRemoveFunc("",t)}put(e,t){this._storage.put(e,t,1,1)}pop(e){return this._storage.pop(e)}get(e){return this._storage.get(e)}clear(){this._storage.clearAll()}destroy(){this._storage.destroy()}}},53326:(e,t,n)=>{n.d(t,{C:()=>d,N:()=>g,a:()=>i,b:()=>h,c:()=>s,e:()=>m,f:()=>o,j:()=>u,k:()=>c,s:()=>f,u:()=>a,x:()=>l});var r=n(76506);function s(e=y){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function o(e,t,n,r,o,i,a=s()){return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a[4]=o,a[5]=i,a}function i(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function a(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function l(e,t=[0,0,0]){return t[0]=function(e){return e[0]>=e[3]?0:e[3]-e[0]}(e),t[1]=function(e){return e[1]>=e[4]?0:e[4]-e[1]}(e),t[2]=function(e){return e[2]>=e[5]?0:e[5]-e[2]}(e),t}function u(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function c(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function h(e){return e?f(e,g):s(g)}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function p(e){return 6===e.length}function m(e,t,n){if((0,r.b)(e)||(0,r.b)(t))return e===t;if(!p(e)||!p(t))return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n(21801),n(92482);const g=[1/0,1/0,1/0,-1/0,-1/0,-1/0],y=[0,0,0,0,0,0];s()},73173:(e,t,n)=>{n.d(t,{g:()=>l});var r=n(31450),s=(n(82058),n(60991)),o=n(92143),i=n(32101);const a=o.L.getLogger("esri.assets");function l(e){if(!r.Z.assetsPath)throw a.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s.Z("assets:path-not-set","config.assetsPath is not set");return(0,i.v_)(r.Z.assetsPath,e)}},59465:(e,t,n)=>{n.d(t,{e:()=>o});var r=n(57251),s=n(34250);function o(e,t={}){var n;const o=e instanceof r.J?e:new r.J(e,t),i={type:null==(n=null==t?void 0:t.ignoreUnknown)||n?o.apiValues:String,readOnly:null==t?void 0:t.readOnly,json:{type:o.jsonValues,read:(null==t||!t.readOnly)&&{reader:o.read},write:{writer:o.write}}};return void 0!==(null==t?void 0:t.default)&&(i.json.default=t.default),void 0!==(null==t?void 0:t.name)&&(i.json.name=t.name),(0,s.Cb)(i)}},66774:(e,t,n)=>{n.d(t,{C:()=>g,c:()=>b});var r=n(29768),s=n(57251),o=n(34250),i=(n(76506),n(91306),n(17533)),a=n(74673),l=n(63683),u=n(30776);const c=new s.J({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"});let f=class extends a.a{constructor(){super(...arguments),this.baseSymbol=null,this.colorRamp=null,this.type=null}};(0,r._)([(0,o.Cb)({type:u.Z,json:{write:!0}})],f.prototype,"baseSymbol",void 0),(0,r._)([(0,o.Cb)({types:l.t,json:{read:{reader:l.f},write:!0}})],f.prototype,"colorRamp",void 0),(0,r._)([(0,o.Cb)({json:{read:c.read,write:c.write}})],f.prototype,"type",void 0),f=(0,r._)([(0,i.j)("esri.rest.support.ClassificationDefinition")],f);const h=f,d=new s.J({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),p=new s.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let m=class extends h{constructor(){super(...arguments),this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null,this.type="class-breaks-definition"}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};(0,r._)([(0,o.Cb)({json:{write:!0}})],m.prototype,"breakCount",void 0),(0,r._)([(0,o.Cb)({json:{write:!0}})],m.prototype,"classificationField",void 0),(0,r._)([(0,o.Cb)({type:String,json:{read:d.read,write:d.write}})],m.prototype,"classificationMethod",void 0),(0,r._)([(0,o.Cb)({json:{write:!0}})],m.prototype,"normalizationField",void 0),(0,r._)([(0,o.Cb)({json:{read:p.read,write:p.write}})],m.prototype,"normalizationType",void 0),(0,r._)([(0,o.Cb)({value:null,json:{write:!0}})],m.prototype,"standardDeviationInterval",null),(0,r._)([(0,o.Cb)({value:null,json:{write:!0}})],m.prototype,"definedInterval",null),(0,r._)([(0,o.Cb)()],m.prototype,"type",void 0),m=(0,r._)([(0,i.j)("esri.rest.support.ClassBreaksDefinition")],m);const g=m;function y(e,t){return Number(e.toFixed(t))}function b(e){const{normalizationTotal:t}=e,n=function(e){const t=e.definition,{classificationMethod:n,breakCount:r,normalizationType:s,definedInterval:o}=t,i=[];let a=e.values;if(0===a.length)return[];a=a.sort(((e,t)=>e-t));const l=a[0],u=a[a.length-1];if("equal-interval"===n)if(a.length>=r){const e=(u-l)/r;let t=l;for(let n=1;n<r;n++){const r=y(l+n*e,6);i.push({minValue:t,maxValue:r,label:w(t,r,s)}),t=r}i.push({minValue:t,maxValue:u,label:w(t,u,s)})}else a.forEach((e=>{i.push({minValue:e,maxValue:e,label:w(e,e,s)})}));else if("natural-breaks"===n){const t=function(e){const t=[],n=[];let r=Number.MIN_VALUE,s=1,o=-1;for(let i=0;i<e.length;i++){const a=e[i];a===r?(s++,n[o]=s):null!==a&&(t.push(a),r=a,s=1,n.push(s),o++)}return{uniqueValues:t,valueFrequency:n}}(a),n=e.valueFrequency||t.valueFrequency,o=function(e,t,n){const r=e.length,s=[];n>r&&(n=r);for(let e=0;e<n;e++)s.push(Math.round(e*r/n-1));s.push(r-1);let o=v(s,e,t,n);return function(e,t,n,r,s,o){let i=0,a=0,l=0,u=0,c=!0;for(let f=0;f<2&&c;f++){0===f&&(c=!1);for(let f=0;f<o-1;f++)for(;n[f+1]+1!==n[f+2];){n[f+1]=n[f+1]+1;const o=x(f,n,r,s);l=o.sbMean,i=o.sbSdcm;const h=x(f+1,n,r,s);if(u=h.sbMean,a=h.sbSdcm,!(i+a<t[f]+t[f+1])){n[f+1]=n[f+1]-1;break}t[f]=i,t[f+1]=a,e[f]=l,e[f+1]=u,c=!0}for(let f=o-1;f>0;f--)for(;n[f]!==n[f-1]+1;){n[f]=n[f]-1;const o=x(f-1,n,r,s);l=o.sbMean,i=o.sbSdcm;const h=x(f,n,r,s);if(u=h.sbMean,a=h.sbSdcm,!(i+a<t[f-1]+t[f])){n[f]=n[f]+1;break}t[f-1]=i,t[f]=a,e[f-1]=l,e[f]=u,c=!0}}return c}(o.mean,o.sdcm,s,e,t,n)&&(o=v(s,e,t,n)),s}(t.uniqueValues,n,r);let c=l;for(let e=1;e<r;e++)if(t.uniqueValues.length>e){const n=y(t.uniqueValues[o[e]],6);i.push({minValue:c,maxValue:n,label:w(c,n,s)}),c=n}i.push({minValue:c,maxValue:u,label:w(c,u,s)})}else if("quantile"===n)if(a.length>=r&&l!==u){let e=l,t=Math.ceil(a.length/r),n=0;for(let o=1;o<r;o++){let l=t+n-1;l>a.length&&(l=a.length-1),l<0&&(l=0),i.push({minValue:e,maxValue:a[l],label:w(e,a[l],s)}),e=a[l],n+=t,t=Math.ceil((a.length-n)/(r-o))}i.push({minValue:e,maxValue:u,label:w(e,u,s)})}else{let e=-1;for(let t=0;t<a.length;t++){const n=a[t];n!==e&&(e=n,i.push({minValue:e,maxValue:n,label:w(e,n,s)}),e=n)}}else if("standard-deviation"===n){const e=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/=e.length,t}(a),t=function(e,t){let n=0;for(let r=0;r<e.length;r++){const s=e[r];n+=(s-t)*(s-t)}return n/=e.length,Math.sqrt(n)}(a,e);if(0===t)i.push({minValue:a[0],maxValue:a[0],label:w(a[0],a[0],s)});else{const n=function(e,t,n,r,s){let o=Math.max(r-e,t-r)/s/n;return o=o>=1?1:o>=.5?.5:.25,o}(l,u,r,e,t),o=n*t;let a=0,c=l;for(let t=r;t>=1;t--){const n=y(e-(t-.5)*o,6);i.push({minValue:c,maxValue:n,label:w(c,n,s)}),c=n,a++}let f=y(e+.5*o,6);i.push({minValue:c,maxValue:f,label:w(c,f,s)}),c=f,a++;for(let t=1;t<=r;t++)f=a===2*r?u:y(e+(t+.5)*o,6),i.push({minValue:c,maxValue:f,label:w(c,f,s)}),c=f,a++}}else if("defined-interval"===n){if(!o)return i;const e=a[0],t=a[a.length-1],n=Math.ceil((t-e)/o);let r=e;for(let t=1;t<n;t++){const n=y(e+t*o,6);i.push({minValue:r,maxValue:n,label:w(r,n,s)}),r=n}i.push({minValue:r,maxValue:t,label:w(r,t,s)})}return i}(e);return{classBreaks:n,normalizationTotal:t}}function w(e,t,n){let r=null;return r=e===t?n&&"percent-of-total"===n?e+"%":e.toString():n&&"percent-of-total"===n?e+"% - "+t+"%":e+" - "+t,r}function v(e,t,n,r){let s=[],o=[],i=[],a=0;const l=[],u=[];for(let s=0;s<r;s++){const r=x(s,e,t,n);l.push(r.sbMean),u.push(r.sbSdcm),a+=u[s]}let c,f=a,h=!0;for(;h||a<f;){h=!1,s=[];for(let t=0;t<r;t++)s.push(e[t]);for(let n=0;n<r;n++)for(let s=e[n]+1;s<=e[n+1];s++)if(c=t[s],n>0&&s!==e[n+1]&&Math.abs(c-l[n])>Math.abs(c-l[n-1]))e[n]=s;else if(n<r-1&&e[n]!==s-1&&Math.abs(c-l[n])>Math.abs(c-l[n+1])){e[n+1]=s-1;break}f=a,a=0,o=[],i=[];for(let s=0;s<r;s++){o.push(l[s]),i.push(u[s]);const r=x(s,e,t,n);l[s]=r.sbMean,u[s]=r.sbSdcm,a+=u[s]}}if(a>f){for(let t=0;t<r;t++)e[t]=s[t],l[t]=o[t],u[t]=i[t];a=f}return{mean:l,sdcm:u}}function x(e,t,n,r){let s=0,o=0;for(let i=t[e]+1;i<=t[e+1];i++){const e=r[i];s+=n[i]*e,o+=e}o<=0&&console.log("Exception in Natural Breaks calculation");const i=s/o;let a=0;for(let s=t[e]+1;s<=t[e+1];s++)a+=r[s]*(n[s]-i)**2;return{sbMean:i,sbSdcm:a}}},94751:(e,t,n)=>{n.d(t,{a:()=>c,c:()=>i,g:()=>u,o:()=>a,u:()=>l});var r=n(92896),s=n(60947),o=n(32422);const i={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:s.Z.WebMercator}),minus180Line:new r.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:s.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.Z({paths:[[[180,-180],[180,180]]],spatialReference:s.Z.WGS84}),minus180Line:new r.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:s.Z.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const n=u(e);for(const e of n)for(const n of e)n[0]+=t;return e}function u(e){return(0,o.oU)(e)?e.rings:e.paths}function c(e){const t=(null==e?void 0:e.isWebMercator)?102100:4326;return[i[t].minX,i[t].maxX]}},92847:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(76506),s=n(53785),o=n(60947);function i(e,t,n){if((0,r.b)(t)||(0,r.b)(n)||n.vcsWkid||(0,o.e)(t,n))return null;const i=(0,s.b)(t)/(0,s.b)(n);if(1===i)return null;switch(e){case"point":case"esriGeometryPoint":return e=>{return n=i,void((t=e)&&null!=t.z&&(t.z*=n));var t,n};case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}(e,i);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}(e,i);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}(e,i);case"extent":case"esriGeometryExtent":return e=>function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,i);default:return null}}},95533:(e,t,n)=>{n.d(t,{aX:()=>x});var r=n(31450),s=n(60991),o=n(92143),i=n(76506),a=n(44567),l=n(92896),u=n(94751),c=n(60947),f=n(35132),h=(n(74569),n(82058)),d=n(32101),p=n(32422);async function m(e,t,n){const r="string"==typeof e?(0,d.mN)(e):e,s=t[0].spatialReference,o=(0,p.Ji)(t[0]),i={...n,query:{...r.query,f:"json",sr:s.wkid?s.wkid:JSON.stringify(s),geometries:JSON.stringify(g(t))}};return function(e,t,n){const r=(0,p.q9)(t);return e.map((e=>{const t=r.fromJSON(e);return t.spatialReference=n,t}))}((await(0,h.default)(r.path+"/simplify",i)).data,o,s)}function g(e){return{geometryType:(0,p.Ji)(e[0]),geometries:e.map((e=>e.toJSON()))}}n(71552),n(40642),n(34250),n(91306),n(86656),n(22723),n(17533),n(2906),n(21801),n(73796),n(74673),n(21972),n(23639),n(91055),n(6906),n(50406),n(97714),n(91597),n(86787),n(89623),n(98380),n(84069),n(22781),n(57251),n(88762);const y=o.L.getLogger("esri.geometry.support.normalizeUtils");function b(e){return"polyline"===e[0].type}function w(e,t,n){if(t){const t=function(e,t){if(!(e instanceof l.Z||e instanceof a.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(e),new s.Z(e)}const n=(0,u.g)(e),r=[];for(const e of n){const n=[];r.push(n),n.push([e[0][0],e[0][1]]);for(let r=0;r<e.length-1;r++){const s=e[r][0],o=e[r][1],i=e[r+1][0],a=e[r+1][1],l=Math.sqrt((i-s)*(i-s)+(a-o)*(a-o)),u=(a-o)/l,c=(i-s)/l,f=l/t;if(f>1){for(let e=1;e<=f-1;e++){const r=e*t,i=c*r+s,a=u*r+o;n.push([i,a])}const e=(l+Math.floor(f-1)*t)/2,r=c*e+s,i=u*e+o;n.push([r,i])}n.push([i,a])}}return function(e){return"polygon"===e.type}(e)?new a.Z({rings:r,spatialReference:e.spatialReference}):new l.Z({paths:r,spatialReference:e.spatialReference})}(e,1e6);e=(0,f.Sx)(t,!0)}return n&&(e=(0,u.u)(e,n)),e}function v(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=(0,u.o)(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=(0,u.o)(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=(0,u.o)(r,t);e=e.clone().offset(n*(-2*t),0)}else if(r<n){const t=(0,u.o)(r,n);e=e.clone().offset(t*(-2*n),0)}}return e}async function x(e,t,n){var s;if(!Array.isArray(e))return x([e],t);const o=null!=(s=null==t?void 0:t.url)?s:r.Z.geometryServiceUrl;let g,y,_,M,q,k,E,T,S=0;const O=[],C=[];for(const t of e)if((0,i.b)(t))C.push(t);else if(g||(g=t.spatialReference,y=(0,c.g)(g),_=g.isWebMercator,k=_?102100:4326,M=u.c[k].maxX,q=u.c[k].minX,E=u.c[k].plus180Line,T=u.c[k].minus180Line),y)if("mesh"===t.type)C.push(t);else if("point"===t.type)C.push(v(t.clone(),M,q));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>v(e,M,q))),C.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,y);C.push(e.rings?new a.Z(e):e)}else if(t.extent){const e=t.extent,n=(0,u.o)(e.xmin,q)*(2*M);let r=0===n?t.clone():(0,u.u)(t.clone(),n);e.offset(n,0),e.intersects(E)&&e.xmax!==M?(S=e.xmax>S?e.xmax:S,r=w(r,_),O.push(r),C.push("cut")):e.intersects(T)&&e.xmin!==q?(S=e.xmax*(2*M)>S?e.xmax*(2*M):S,r=w(r,_,360),O.push(r),C.push("cut")):C.push(r)}else C.push(t.clone());else C.push(t);let L=(0,u.o)(S,M),V=-90;const P=L,I=new l.Z;for(;L>0;){const e=360*L-180;I.addPath([[e,V],[e,-1*V]]),V*=-1,L--}if(O.length>0&&P>0){const t=await async function(e,t,n,r){const s="string"==typeof e?(0,d.mN)(e):e,o=t[0].spatialReference,i={...r,query:{...s.query,f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:(0,p.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(n)}},a=await(0,h.default)(s.path+"/cut",i),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map((e=>{const t=(0,p.im)(e);return t.spatialReference=o,t}))}}(o,O,I,n),r=function(e,t){let n=-1;for(let r=0;r<t.cutIndexes.length;r++){const s=t.cutIndexes[r],o=t.geometries[r],i=(0,u.g)(o);for(let e=0;e<i.length;e++){const t=i[e];t.some((n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const r=t[e][0];n=r>n?r:n}n=Number(n.toFixed(9));const r=-360*(0,u.o)(n,180);for(let n=0;n<t.length;n++){const t=o.getPoint(e,n);o.setPoint(e,n,t.clone().offset(r,0))}return!0}}))}if(s===n){if("polygon"===e[0].type)for(const t of(0,u.g)(o))e[s]=e[s].addRing(t);else if(b(e))for(const t of(0,u.g)(o))e[s]=e[s].addPath(t)}else n=s,e[s]=o}return e}(O,t),s=[],a=[];for(let t=0;t<C.length;t++){const n=C[t];if("cut"!==n)a.push(n);else{const n=r.shift(),o=e[t];(0,i.i)(o)&&"polygon"===o.type&&o.rings&&o.rings.length>1&&n.rings.length>=o.rings.length?(s.push(n),a.push("simplify")):a.push(_?(0,f.$)(n):n)}}if(!s.length)return a;const l=await m(o,s,n),c=[];for(let e=0;e<a.length;e++){const t=a[e];"simplify"!==t?c.push(t):c.push(_?(0,f.$)(l.shift()):l.shift())}return c}const j=[];for(let e=0;e<C.length;e++){const t=C[e];if("cut"!==t)j.push(t);else{const e=O.shift();j.push(!0===_?(0,f.$)(e):e)}}return Promise.resolve(j)}},82058:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d,l:()=>f,r:()=>C,s:()=>c});var r=n(31450),s=n(88762),o=n(60991),i=n(76506),a=n(50406),l=n(32101);n(71552),n(92143),n(40642);const u=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function c(e){const t=(0,l.P$)(e,!0);return t&&t.endsWith(".arcgis.com")&&!u.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}function f(e,t,n=!1,r){return new Promise(((s,o)=>{if((0,a.Hc)(r))return void o(h());let l=()=>{f(),o(new Error(`Unable to load ${t}`))},u=()=>{const t=e;f(),s(t)},c=()=>{if(!e)return;const t=e;f(),t.src="",o(h())};const f=()=>{(0,i.h)("esri-image-decode")||(e.removeEventListener("error",l),e.removeEventListener("load",u)),l=null,u=null,e=null,(0,i.i)(r)&&r.removeEventListener("abort",c),c=null,n&&URL.revokeObjectURL(t)};(0,i.i)(r)&&r.addEventListener("abort",c),(0,i.h)("esri-image-decode")?e.decode().then(u,l):(e.addEventListener("error",l),e.addEventListener("load",u))}))}function h(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}async function d(e,t){var u;const f=(0,l.HK)(e),h=(0,l.jc)(e);h||f||(e=(0,l.Fv)(e));const y={url:e,requestOptions:{...(0,i.u)(t)}};let b=(0,l.oh)(e);if(b){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let n,r;try{r=await e.before(t)}catch(e){n=M("request:interceptor",e,t)}if((r instanceof Error||r instanceof o.Z)&&(n=M("request:interceptor",r,t)),n)throw e.error&&e.error(n),n;return r}}(b,y);if(null!=e)return{data:e,getHeader:v,requestOptions:y.requestOptions,url:y.url};b.after||b.error||(b=null)}if(e=y.url,"image"===(t=y.requestOptions).responseType){if((0,i.h)("host-webworker")||(0,i.h)("host-node"))throw M("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),y)}else if(f)throw M("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),y);if("head"===t.method){if(t.body)throw M("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),y);if(f||h)throw M("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),y)}if(await async function(){(0,i.h)("host-webworker")?p||(p=await n.e(9768).then(n.bind(n,89768))):d._abortableFetch||(d._abortableFetch=globalThis.fetch.bind(globalThis))}(),p)return p.execute(e,t);const w=new AbortController;(0,a.fu)(t,(()=>w.abort()));const x={controller:w,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:b,params:y,redoRequest:!1,useIdentity:m.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},_=await async function(e){var t,n;let o,i;await async function(e){const t=e.params.url,n=e.params.requestOptions,o=e.controller.signal,i=n.body;let l=null,u=null,f=null;if(g&&"HTMLFormElement"in globalThis&&(i instanceof FormData?l=i:i instanceof HTMLFormElement&&(u=i,l=new FormData(u))),"string"==typeof i&&(f=i),e.fetchOptions={cache:n.cacheBust&&!d._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:o},(l||f)&&(e.fetchOptions.body=l||f),"anonymous"===n.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query&&n.query.token||l&&l.get&&l.get("token")||u&&u.elements.token),!e.hasToken&&r.Z.apiKey&&c(t)&&(n.query||(n.query={}),n.query.token=r.Z.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!k(t)&&!(0,a.Hc)(o)){let r;"immediate"===n.authMode?(await q(),r=await s.id.getCredential(t,{signal:o}),e.credential=r):"no-prompt"===n.authMode?(await q(),r=await s.id.getCredential(t,{prompt:!1,signal:o}).catch((()=>{})),e.credential=r):s.id&&(r=s.id.findCredential(t)),r&&(e.credentialToken=r.token,e.useSSL=!!r.ssl)}}(e);try{do{[o,i]=await E(e)}while(!await S(e,o,i))}catch(t){const n=M("request:server",t,e.params,o);throw n.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(n),n}const u=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(u)&&!e.hasToken&&!e.credentialToken&&null!=(t=i)&&null!=(n=t.user)&&n.username&&!(0,l.kl)(u)){const e=(0,l.P$)(u,!0);e&&m.trustedServers.push(e)}const f=e.credential;if(f&&s.id){const e=s.id.findServerInfo(f.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=s.id.findCredential(t,f.userId);e&&-1===s.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:i,getHeader:o?e=>o.headers.get(e):v,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(x);return null==(u=b)||null==u.after||u.after(_),_}let p;const m=r.Z.request,g="FormData"in globalThis,y=[499,498,403,401],b=["COM_0056","COM_0057","SB_0008"],w=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],v=()=>null,x=Symbol();function _(e){const t=(0,l.P$)(e);return!t||t.endsWith(".arcgis.com")||d._corsServers.includes(t)||(0,l.kl)(t)}function M(e,t,n,r){let s="Error";const l={url:n.url,requestOptions:n.requestOptions,getHeader:v,ssl:!1};if(t instanceof o.Z)return t.details?(t.details=(0,i.d9)(t.details),t.details.url=n.url,t.details.requestOptions=n.requestOptions):t.details=l,t;if(t){const e=r&&(e=>r.headers.get(e)),n=r&&r.status,o=t.message;o&&(s=o),e&&(l.getHeader=e),l.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||n||0,l.subCode=t.subcode,l.messageCode=t.messageCode,"string"==typeof t.details?l.messages=[t.details]:l.messages=t.details,l.raw=x in t?t[x]:t}return(0,a.D_)(t)?(0,a.zE)():new o.Z(e,s,l)}async function q(){s.id||await Promise.all([n.e(6229),n.e(406),n.e(2303),n.e(9798)]).then(n.bind(n,89798))}function k(e){return w.some((t=>t.test(e)))}async function E(e){let t=e.params.url;const n=e.params.requestOptions,r=e.fetchOptions,o=(0,l.jc)(t)||(0,l.HK)(t),u=n.responseType||"json",c=o?0:null!=n.timeout?n.timeout:m.timeout;let f=!1;if(!o){e.useSSL&&(t=(0,l.hO)(t)),n.cacheBust&&"default"===r.cache&&(t=(0,l.ZN)(t,"request.preventCache",Date.now()));let o={...n.query};e.credentialToken&&(o.token=e.credentialToken);let a=(0,l.B7)(o);(0,i.h)("esri-url-encodes-apostrophe")&&(a=a.replace(/'/g,"%27"));const u=t.length+1+a.length;let c;f="delete"===n.method||"post"===n.method||"put"===n.method||!!n.body||u>m.maxUrlLength;const h=n.useProxy||!!(0,l.ed)(t);if(h){const e=(0,l.b7)(t);c=e.path,!f&&c.length+1+u>m.maxUrlLength&&(f=!0),e.query&&(o={...e.query,...o})}if("HEAD"===r.method&&(f||h)){if(f){if(u>m.maxUrlLength)throw M("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw M("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(h)throw M("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(f?(r.method="delete"===n.method?"DELETE":"put"===n.method?"PUT":"POST",n.body?t=(0,l.fl)(t,o):(r.body=(0,l.B7)(o),r.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,l.fl)(t,o),h&&(e.useProxy=!0,t=`${c}?${t}`),o.token&&g&&r.body instanceof FormData){const e=r.body;e.set?e.set("token",o.token):e.append("token",o.token)}if(n.hasOwnProperty("withCredentials"))e.withCredentials=n.withCredentials;else if(!(0,l.D6)(t,l.Gd))if((0,l.kl)(t))e.withCredentials=!0;else if(s.id){const n=s.id.findServerInfo(t);n&&n.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(r.credentials="include")}let h,p,y=0,b=!1;c>0&&(y=setTimeout((()=>{b=!0,e.controller.abort()}),c));try{if("native-request-init"===n.responseType)p=r,p.url=t;else if("image"!==n.responseType||"default"!==r.cache||"GET"!==r.method||f||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(n.headers)||!o&&!e.useProxy&&m.proxyUrl&&!_(t)){if(h=await d._abortableFetch(t,r),e.useProxy||function(e){const t=(0,l.P$)(e);t&&!d._corsServers.includes(t)&&d._corsServers.push(t)}(t),"native"===n.responseType)p=h;else if("HEAD"!==r.method)if(h.ok){switch(u){case"array-buffer":p=await h.arrayBuffer();break;case"blob":case"image":p=await h.blob();break;default:p=await h.text()}if(y&&(clearTimeout(y),y=0),"json"===u||"xml"===u||"document"===u)if(p)switch(u){case"json":p=JSON.parse(p);break;case"xml":p=T(p,"application/xml");break;case"document":p=T(p,"text/html")}else p=null;if(p){if("array-buffer"===u||"blob"===u){const e=h.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&p["blob"===u?"size":"byteLength"]<=750)try{const e=await new Response(p).json();e.error&&(p=e)}catch{}}"image"===u&&p instanceof Blob&&(p=await O(URL.createObjectURL(p),e,!0))}}else p=await h.text()}else p=await O(t,e)}catch(r){if("AbortError"===r.name){if(b)throw new Error("Timeout exceeded");throw(0,a.zE)("Request canceled")}if(!(!h&&r instanceof TypeError&&m.proxyUrl)||n.body||"delete"===n.method||"head"===n.method||"post"===n.method||"put"===n.method||e.useProxy||_(t))throw r;e.redoRequest=!0,(0,l.tD)({proxyUrl:m.proxyUrl,urlPrefix:(0,l.P$)(t)})}finally{y&&clearTimeout(y)}return[h,p]}function T(e,t){let n;try{n=(new DOMParser).parseFromString(e,t)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function S(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let o,i,a,l;if(!t.ok)throw o=new Error(`Unable to load ${t.url} status: ${t.status}`),o[x]=n,o;null!=n&&n.error&&(o=n.error),o&&(i=Number(o.code),a=o.hasOwnProperty("subcode")?Number(o.subcode):null,l=o.messageCode,l=l&&l.toUpperCase());const u=r.authMode;if(403===i&&(4===a||o.message&&o.message.toLowerCase().indexOf("ssl")>-1&&-1===o.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==u||498===i)&&-1!==y.indexOf(i)&&!k(e.params.url)&&(403!==i||-1===b.indexOf(l)&&(null==a||2===a&&e.credentialToken))){await q();try{const t=await s.id.getCredential(e.params.url,{error:M("request:server",o,e.params),prompt:"no-prompt"!==u,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===u)return e.credential=null,e.credentialToken=null,!1;o=t}}if(o)throw o;return!0}function O(e,t,n=!1){const r=t.controller.signal,s=new Image;return t.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.src=e,f(s,e,n,r)}d._abortableFetch=null,d._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const C=Object.freeze({__proto__:null,default:d})}}]);