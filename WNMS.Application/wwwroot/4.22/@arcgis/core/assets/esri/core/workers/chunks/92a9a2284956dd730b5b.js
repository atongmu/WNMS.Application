"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[599,8762],{60599:(e,t,r)=>{r.r(t),r.d(t,{B:()=>O,default:()=>C,e:()=>T});var s=r(29768),i=r(15324),a=r(10401),n=r(23639),l=r(74673),o=r(76506),c=r(22739),h=r(91162),p=r(92143),y=r(50406),u=r(32101),d=r(34250),g=(r(91306),r(17533)),f=r(2906),m=r(60947),b=r(49900),v=r(56420),_=r(73173),L=r(87239),S=r(88610);r(91055),r(76996),r(21972),r(86656),r(22723),r(6906),r(60991),r(71552),r(20543),r(41864),r(31450),r(40642),r(88762),r(82058),r(97714),r(21801),r(73796),r(91597),r(86787),r(35132),r(89623),r(3482),r(67477),r(57251),r(78533),r(74653),r(91091),r(58943),r(74742),r(28239);const T={streets:{id:"streets",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets.jpg")},baseMapLayers:[{id:"streets-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Street Map",showLegend:!1,visibility:!0,opacity:1}]},satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Boundaries and Places",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},topo:{id:"topo",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/topo.jpg")},baseMapLayers:[{id:"topo-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Topo Map",showLegend:!1,visibility:!0,opacity:1}]},gray:{id:"gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/gray.jpg")},baseMapLayers:[{id:"gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Light Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"dark-gray":{id:"dark-gray",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/dark-gray.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Base",showLegend:!1,visibility:!0,opacity:1},{id:"dark-gray-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Dark Gray Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},"national-geographic":{id:"national-geographic",classic:!0,deprecated:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/national-geographic.jpg")},baseMapLayers:[{id:"national-geographic-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer",title:"NatGeo World Map",showLegend:!1,layerType:"ArcGISTiledMapServiceLayer",visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"arcgis-imagery":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,_.g)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]}};var w;let M=0;const I=p.L.getLogger("esri.Basemap");let A=w=class extends((0,l.J)(c.L)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+M++,this.baseLayers=new i.Z,this.referenceLayers=new i.Z;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&I.error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=e=>{e.parent=null};this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>r(e.item))),this.referenceLayers.on("after-remove",(e=>r(e.item)))}initialize(){this.when().catch((e=>{I.error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var e;const t=this.baseLayers.removeAll();for(const e of t)e.destroy();const r=this.referenceLayers.removeAll();for(const e of r)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),null==(e=this.portalItem)||e.destroy(),this.portalItem=null}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,a.r)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const s=[];e?(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,S.g)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);(0,o.i)(t)&&s.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,S.g)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);(0,o.i)(t)&&(t.isReference=!0,s.push(t))})),t.baseMapLayers=s):t.baseMapLayers=s}set referenceLayers(e){this._set("referenceLayers",(0,a.r)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,h.l)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.slice(),referenceLayers:this.referenceLayers.slice()};return this.loaded&&(e.loadStatus="loaded"),new w({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t&&t.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo&&this.resourceInfo.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,o.d9)(e);return t.url&&(0,u.oC)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,u.oC)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r}=this;(0,y.k_)(e);const s=[];if(t){const r=t.context?t.context.url:null;if(s.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const e=t.data.id;s.push(async function(e){if(!e)return;const t=e.indexOf("-vector")>-1?e.slice(0,e.indexOf("-vector")):e,r=await(0,L.f)("esri/t9n/basemaps");return r[e]||r[t]}(e).then((e=>{e&&this.read({title:e},t.context)})))}}else r&&s.push(this._loadFromItem(r,e));await Promise.all(s)}async _loadLayersFromJSON(e,t,s){const i=this.resourceInfo&&this.resourceInfo.context,a=this.portalItem&&this.portalItem.portal||i&&i.portal||null,n=i&&"web-scene"===i.origin?"web-scene":"web-map",{populateOperationalLayers:l}=await r.e(2176).then(r.bind(r,92176)),o=[];if((0,y.k_)(s),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const r={context:{origin:n,url:t,portal:a,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},s=l(this.baseLayers,e.baseMapLayers.filter((e=>!e.isReference)),r);o.push(s);const i=l(this.referenceLayers,e.baseMapLayers.filter((e=>e.isReference)),r);o.push(i)}await(0,y.as)(o)}async _loadFromItem(e,t){const r=await e.load(t),s=await r.fetchData("json",t),i=(0,u.mN)(e.itemUrl);return this._set("resourceInfo",{data:s.baseMap,context:{origin:"web-map",portal:e.portal||b.Z.getDefault(),url:i}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||b.Z.getDefault(),url:i}),this._loadLayersFromJSON(this.resourceInfo.data,i,t)}static fromId(e){const t=T[e];if(t){if(t.deprecated){let t=null;"dark-gray"===e?t="dark-gray-vector":"gray"===e?t="gray-vector":"streets"===e?t="streets-vector":"topo"===e&&(t="topo-vector"),(0,n.d)(I,`The ${e} basemap has entered mature support and is no longer being updated.`,{replacement:t,see:"https://arcg.is/1iq8aD",warnOnce:!0})}return w.fromJSON(t)}return null}};(0,s._)([(0,d.Cb)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,s){this._writeBaseLayers(e,t,s)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:i.Z}},writer(e,t,r,s){this._writeBaseLayers(e,t,s)}}}}}})],A.prototype,"baseLayers",null),(0,s._)([(0,d.Cb)({type:String,json:{origins:{"web-scene":{write:!0}}}})],A.prototype,"id",void 0),(0,s._)([(0,d.Cb)({type:v.default})],A.prototype,"portalItem",void 0),(0,s._)([(0,d.Cb)()],A.prototype,"referenceLayers",null),(0,s._)([(0,d.Cb)({readOnly:!0})],A.prototype,"resourceInfo",void 0),(0,s._)([(0,d.Cb)({type:m.Z})],A.prototype,"spatialReference",void 0),(0,s._)([(0,d.Cb)()],A.prototype,"thumbnailUrl",void 0),(0,s._)([(0,d.Cb)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],A.prototype,"title",void 0),(0,s._)([(0,f.w)("title")],A.prototype,"writeTitle",null),A=w=(0,s._)([(0,g.j)("esri.Basemap")],A);const C=A,O=Object.freeze({__proto__:null,default:C})},41864:(e,t,r)=>{r.d(t,{a:()=>o,f:()=>a,m:()=>n,r:()=>l});var s=r(76506),i=r(50406);function a(e,t,r){return(0,i.as)(e.map(((e,s)=>t.apply(r,[e,s]))))}function n(e,t,r){return(0,i.as)(e.map(((e,s)=>t.apply(r,[e,s])))).then((e=>e.map((e=>e.value))))}function l(e){return(0,s.b)(e)?(0,i.DB)():e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function o(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>((0,i.r9)(e),{ok:!1,error:e})))}},10401:(e,t,r)=>{r.d(t,{c:()=>a,r:()=>i});var s=r(15324);function i(e,t,r=s.Z){return t||(t=new r),t===e||(t.removeAll(),(i=e)&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))?t.addMany(e):e&&t.add(e)),t;var i}function a(e){return e}},91162:(e,t,r)=>{r.d(t,{a:()=>o,l:()=>l});var s=r(41864),i=r(15324),a=r(22739),n=r(76506);async function l(e,t){return await e.load(),o(e,t)}async function o(e,t){const r=[],l=(...e)=>{for(const t of e)(0,n.b)(t)||(Array.isArray(t)?l(...t):i.Z.isCollection(t)?t.forEach((e=>l(e))):a.L.isLoadable(t)&&r.push(t))};t(l);let o=null;if(await(0,s.m)(r,(async e=>{var t;!1!==(await(0,s.r)((t=e,"loadAll"in t&&"function"==typeof t.loadAll?e.loadAll():e.load()))).ok||o||(o=e)})),o)throw o.loadError;return e}},87239:(e,t,r)=>{r.d(t,{f:()=>u,n:()=>d,r:()=>y});var s=r(60991),i=r(50406),a=r(3482);const n=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,l={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function o(e){var t;return null!=(t=l[e])&&t}const c=[],h=new Map;function p(e){for(const t of h.keys())g(e.pattern,t)&&h.delete(t)}function y(e){return c.includes(e)||(p(e),c.unshift(e)),{remove(){const t=c.indexOf(e);t>-1&&(c.splice(t,1),p(e))}}}async function u(e){const t=(0,a.g)();h.has(e)||h.set(e,async function(e,t){const r=[];for(const s of c)if(g(s.pattern,e))try{return await s.fetchMessageBundle(e,t)}catch(e){r.push(e)}if(r.length)throw new s.Z("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r});throw new s.Z("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}(e,t));const r=h.get(e);return await f.add(r),r}function d(e){if(!n.test(e))return null;const[,t,r]=n.exec(e),s=t+(r?"-"+r.toUpperCase():"");return o(s)?s:o(t)?t:null}function g(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}(0,a.b)((()=>{h.clear()}));const f=new class{constructor(){this._numLoading=0}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,i.dD)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},3530:(e,t,r)=>{function s(e){return(t,r)=>{t[r]=e}}r.d(t,{s:()=>s})},88610:(e,t,r)=>{r.d(t,{g:()=>y});var s=r(60991),i=r(76506),a=r(71552),n=r(17533);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),o=new Set(["csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","map-image","map-notes","ogc-feature","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function c(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function h(e,t){if(t.restrictedWebMapWriting){const r=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?o:null}(t);return!(0,i.i)(r)||r.has(e.type)&&!c(e)}return!0}function p(e,t){"maxScale"in e&&(t.maxScale=(0,n.n)(e.maxScale)),"minScale"in e&&(t.minScale=(0,n.n)(e.minScale))}function y(e,t,r){if(!("write"in e)||!e.write)return r&&r.messages&&r.messages.push(new s.Z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(h(e,r)){const t={};return e.write(t,r)?t:null}return(0,i.i)(t)&&function(e,t){if(function(e,t){if(c(e)){const r=(0,a.g)("featureCollection.layers",t),s=r&&r[0]&&r[0].layerDefinition;s&&p(e,s)}else"stream"===e.type?p(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&p(e,t)}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,n.n)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(c(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,i.d9)(t)),t}},15324:(e,t,r)=>{r.d(t,{Z:()=>A});var s,i=r(29768),a=r(91055),n=r(76996),l=r(76506),o=r(6906),c=r(34250),h=r(91306),p=r(3530),y=r(17533),u=r(21972);r(22723),r(50406),r(60991),r(92143),r(31450),r(71552),r(40642),r(86656),r(23639);class d{constructor(){this._observers=[]}observe(e){return this._observers.includes(e)||this._observers.push(e),new u.O(this._observers,e)}notify(){const e=this._observers.slice();for(let t=0;t<e.length;++t){const r=e[t];r.onInvalidated(),r.onCommitted()}}}const g=new a.O(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),f=()=>{};function m(e){return e?e instanceof I?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function b(e){if(e&&e.length)return e[0]}function v(e,t,r,s){const i=Math.min(e.length-r,t.length-s);let a=0;for(;a<i&&e[r+a]===t[s+a];)a++;return a}function _(e,t,r,s){t&&t.forEach(((t,i,a)=>{e.push(t),_(e,r.call(s,t,i,a),r,s)}))}const L=new Set,S=new Set,T=new Set,w=new Map;let M=0,I=s=class extends n.E.EventedAccessor{constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new d,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:M++})}static isCollection(e){return null!=e&&e instanceof s}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof s?{items:e}:e:{}}destroy(){this.removeAll()}*[Symbol.iterator](){yield*this.items}get items(){return(0,y.t)(this._observable),this._items}set items(e){this._emitBeforeChanges(1)||(this._splice(0,this.length,m(e)),this._emitAfterChanges(1))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,r={removed:!1,callback:t};return e.push(r),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=f,r.removed=!0,e.splice(e.indexOf(r),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if((0,y.t)(this._observable),this._emitBeforeChanges(1))return this;const r=this.getNextIndex(null!=t?t:null);return this._splice(r,0,[e]),this._emitAfterChanges(1),this}addMany(e,t=this._items.length){if((0,y.t)(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(1))return this;const r=this.getNextIndex(t);return this._splice(r,0,m(e)),this._emitAfterChanges(1),this}removeAll(){if((0,y.t)(this._observable),!this.length||this._emitBeforeChanges(2))return[];const e=this._splice(0,this.length)||[];return this._emitAfterChanges(2),e}clone(){return(0,y.t)(this._observable),this._createNewInstance({items:this._items.map(l.d9)})}concat(...e){(0,y.t)(this._observable);const t=e.map(m);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if((0,y.t)(this._observable),!this.length||this._emitBeforeChanges(2))return;const r=(0,l.a)(this._splice(0,this.length)),s=r.length;for(let i=0;i<s;i++)e.call(t,r[i],i,r);this._emitAfterChanges(2)}every(e,t){return(0,y.t)(this._observable),this._items.every(e,t)}filter(e,t){let r;return(0,y.t)(this._observable),r=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return(0,y.t)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,y.t)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,y.t)(this._observable);const r=[];return _(r,this,e,t),new s(r)}forEach(e,t){return(0,y.t)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,y.t)(this._observable),this._items[e]}getNextIndex(e){(0,y.t)(this._observable);const t=this.length;return(e=null==e?t:e)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return(0,y.t)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return(0,y.t)(this._observable),this._items.indexOf(e,t)}join(e=","){return(0,y.t)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return(0,y.t)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,y.t)(this._observable);const r=this._items.map(e,t);return new s({items:r})}reorder(e,t=this.length-1){(0,y.t)(this._observable);const r=this.indexOf(e);if(-1!==r){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(4))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(4)}return e}}pop(){if((0,y.t)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=b(this._splice(this.length-1,1));return this._emitAfterChanges(2),e}push(...e){return(0,y.t)(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,e),this._emitAfterChanges(1)),this.length}reduce(e,t){(0,y.t)(this._observable);const r=this._items;return 2===arguments.length?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){(0,y.t)(this._observable);const r=this._items;return 2===arguments.length?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return(0,y.t)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,y.t)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(2))return;const t=b(this._splice(e,1));return this._emitAfterChanges(2),t}removeMany(e){if((0,y.t)(this._observable),!e||!e.length||this._emitBeforeChanges(2))return[];const t=e instanceof s?e.toArray():e,r=this._items,i=[],a=t.length;for(let e=0;e<a;e++){const s=t[e],a=r.indexOf(s);if(a>-1){const s=1+v(t,r,e+1,a+1),n=this._splice(a,s);n&&n.length>0&&i.push.apply(i,n),e+=s-1}}return this._emitAfterChanges(2),i}reverse(){if((0,y.t)(this._observable),this._emitBeforeChanges(4))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(4),this}shift(){if((0,y.t)(this._observable),!this.length||this._emitBeforeChanges(2))return;const e=b(this._splice(0,1));return this._emitAfterChanges(2),e}slice(e=0,t=this.length){return(0,y.t)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,y.t)(this._observable),this._items.some(e,t)}sort(e){if((0,y.t)(this._observable),!this.length||this._emitBeforeChanges(4))return this;const t=(0,l.a)(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(4),this}splice(e,t,...r){(0,y.t)(this._observable);const s=(t?2:0)|(r.length?1:0);if(this._emitBeforeChanges(s))return[];const i=this._splice(e,t,r)||[];return this._emitAfterChanges(s),i}toArray(){return(0,y.t)(this._observable),this._items.slice()}toJSON(){return(0,y.t)(this._observable),this.toArray()}toLocaleString(){return(0,y.t)(this._observable),this._items.toLocaleString()}toString(){return(0,y.t)(this._observable),this._items.toString()}unshift(...e){return(0,y.t)(this._observable),!e.length||this._emitBeforeChanges(1)||(this._splice(0,0,e),this._emitAfterChanges(1)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const s=this._items,i=this.itemType;let a,n;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=(0,o.Os)((()=>this._dispatchChange()))),t){if(n=s.splice(e,t),this.hasEventListener("before-remove")){const t=g.acquire();t.target=this,t.cancellable=!0;for(let r=0,i=n.length;r<i;r++)a=n[r],t.reset(a),this.emit("before-remove",t),t.defaultPrevented&&(n.splice(r,1),s.splice(e,0,a),e+=1,r-=1,i-=1);g.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=g.acquire();e.target=this,e.cancellable=!1;const t=n.length;for(let r=0;r<t;r++)e.reset(n[r]),this.emit("after-remove",e);g.release(e)}}if(r&&r.length){if(i){const e=[];for(const t of r){const r=i.ensureType(t);null==r&&null!=t||e.push(r)}r=e}const t=this.hasEventListener("before-add"),a=this.hasEventListener("after-add"),n=e===this.length;if(t||a){const i=g.acquire();i.target=this,i.cancellable=!0;const l=g.acquire();l.target=this,l.cancellable=!1;for(const o of r)t?(i.reset(o),this.emit("before-add",i),i.defaultPrevented||(n?s.push(o):s.splice(e++,0,o),this._set("length",s.length),a&&(l.reset(o),this.emit("after-add",l)))):(n?s.push(o):s.splice(e++,0,o),this._set("length",s.length),l.reset(o),this.emit("after-add",l));g.release(l),g.release(i)}else{if(n)for(const e of r)s.push(e);else s.splice(e,0,...r);this._set("length",s.length)}}return(r&&r.length||n&&n.length)&&this._notifyChangeEvent(r,n),n}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=g.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,g.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=g.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),g.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;L.clear(),S.clear(),T.clear();for(const{added:t,removed:r}of e){if(t)if(0===T.size&&0===S.size)for(const e of t)L.add(e);else for(const e of t)S.has(e)?(T.add(e),S.delete(e)):T.has(e)||L.add(e);if(r)if(0===T.size&&0===L.size)for(const e of r)S.add(e);else for(const e of r)L.has(e)?L.delete(e):(T.delete(e),S.add(e))}const r=a.A.acquire();L.forEach((e=>{r.push(e)}));const s=a.A.acquire();S.forEach((e=>{s.push(e)}));const i=this._items,n=t.items,l=a.A.acquire();if(T.forEach((e=>{n.indexOf(e)!==i.indexOf(e)&&l.push(e)})),t.listeners&&(r.length||s.length||l.length)){const e={target:this,added:r,removed:s,moved:l},i=t.listeners.length;for(let r=0;r<i;r++){const s=t.listeners[r];s.removed||s.callback.call(this,e)}}a.A.release(r),a.A.release(s),a.A.release(l)}L.clear(),S.clear(),T.clear()}};I.ofType=e=>{if(!e)return s;if(w.has(e))return w.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const s=e.typeMap[r].prototype.declaredClass;t?t+=` | ${s}`:t=s}let r=class extends s{};return(0,i._)([(0,p.s)({Type:e,ensureType:"function"==typeof e?(0,h.e)(e):(0,h.a)(e)})],r.prototype,"itemType",void 0),r=(0,i._)([(0,y.j)(`esri.core.Collection<${t}>`)],r),w.set(e,r),r},(0,i._)([(0,c.Cb)()],I.prototype,"length",void 0),(0,i._)([(0,c.Cb)()],I.prototype,"items",null),I=s=(0,i._)([(0,y.j)("esri.core.Collection")],I);const A=I},32101:(e,t,r)=>{r.d(t,{R9:()=>b,qg:()=>A,tD:()=>U,ZN:()=>ce,fl:()=>he,AX:()=>L,Gd:()=>v,Ie:()=>ne,sJ:()=>J,AH:()=>z,vt:()=>ie,oh:()=>k,P$:()=>V,Ml:()=>pe,ed:()=>x,b7:()=>I,D6:()=>B,tm:()=>R,YP:()=>H,jc:()=>P,HK:()=>Z,$U:()=>X,oC:()=>Q,kl:()=>j,v_:()=>D,hF:()=>N,_l:()=>K,PF:()=>E,Fv:()=>q,B7:()=>M,u0:()=>T,Yd:()=>se,Hu:()=>oe,Qj:()=>ae,hO:()=>ee,mN:()=>S});var s=r(31450),i=r(60991),a=r(92143),n=r(76506);r(71552),r(40642);const l=a.L.getLogger("esri.core.urlUtils"),o=s.Z.request,c="esri/config: esriConfig.request.proxyUrl is not set.",h=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,p=/^\s*http:/i,y=/^\s*https:/i,u=/^\s*file:/i,d=/:\d+$/,g=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,f=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),m=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class b{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=(0,n.a)(this.uri.match(f));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=(0,n.a)(this.authority.match(m)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const v=new b(s.Z.applicationUrl),_={},L=(()=>{const e=(0,n.a)(v.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${v.scheme}://${v.host}${null!=v.port?`:${v.port}`:""}${t}`})();function S(e){const t={path:null,query:null},r=new b(e),s=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.substring(0,s),t.query=T(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function T(e){const t=e.split("&"),r={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let s,i;t<0?(s=decodeURIComponent(e),i=""):(s=decodeURIComponent(e.slice(0,t)),i=decodeURIComponent(e.slice(t+1)));let a=r[s];"string"==typeof a&&(a=r[s]=[a]),Array.isArray(a)?a.push(i):r[s]=i}return r}function w(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function M(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r])))).join("&"):Object.keys(e).map((r=>{const s=e[r];if(null==s)return"";const i=encodeURIComponent(r)+"=",a=t&&t[r];return a?i+encodeURIComponent(a(s)):Array.isArray(s)?s.map((e=>w(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e))).join("&"):w(s)?i+encodeURIComponent(JSON.stringify(s)):i+encodeURIComponent(s)})).filter((e=>e)).join("&"):""}function I(e=!1){let t,r=o.proxyUrl;if("string"==typeof e){t=X(e);const s=x(e);s&&(r=s.proxyUrl)}else t=!!e;if(!r)throw l.warn(c),new i.Z("urlutils:proxy-not-set",c);return t&&te()&&(r=ee(r)),S(r)}function A(e){const t=x(e);let r,s;if(t){const e=O(t.proxyUrl);r=e.path,s=e.query?T(e.query):null}if(r){const t=S(e);e=r+"?"+t.path;const i=M({...s,...t.query});i&&(e=`${e}?${i}`)}return e}const C={path:"",query:""};function O(e){const t=e.indexOf("?");return-1!==t?(C.path=e.slice(0,t),C.query=e.slice(t+1)):(C.path=e,C.query=null),C}function G(e){return(e=re(e=function(e){return e&&"/"===e[e.length-1]?e:`${e}/`}(e=O(e).path),!0)).toLowerCase()}function U(e){const t={proxyUrl:e.proxyUrl,urlPrefix:G(e.urlPrefix)},r=o.proxyRules,s=t.urlPrefix;let i=r.length;for(let e=0;e<r.length;e++){const t=r[e].urlPrefix;if(0===s.indexOf(t)){if(s.length===t.length)return-1;i=e;break}0===t.indexOf(s)&&(i=e+1)}return r.splice(i,0,t),i}function x(e){const t=o.proxyRules,r=G(e);for(let e=0;e<t.length;e++)if(0===r.indexOf(t[e].urlPrefix))return t[e]}function R(e,t){return e=W(e),t=W(t),re(e)===re(t)}function W(e){const t=(e=q(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function k(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t),r=o.interceptors;if(r)for(const e of r)if(Array.isArray(e.urls)){if(e.urls.some(t))return e}else if(t(e.urls))return e;return null}function B(e,t,r=!1){const s=le(e),i=le(t);return!(!r&&s.scheme!==i.scheme)&&null!=s.host&&null!=i.host&&s.host.toLowerCase()===i.host.toLowerCase()&&s.port===i.port}function j(e){if("string"==typeof e){if(!H(e))return!0;e=le(e)}if(B(e,v))return!0;const t=o.trustedServers||[];for(let r=0;r<t.length;r++){const s=$(t[r]);for(let t=0;t<s.length;t++)if(B(e,s[t]))return!0}return!1}function $(e){return _[e]||(Y(e)||Q(e)?_[e]=[new b(N(e))]:_[e]=[new b(`http://${e}`),new b(`https://${e}`)]),_[e]}function N(e,t=L,r){return Q(e)?r&&r.preserveProtocolRelative?e:"http"===v.scheme&&v.authority===V(e).slice(2)?`http:${e}`:`https:${e}`:Y(e)?e:(0,n.a)(D("/"===e[0]?function(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}(t):t,e))}function E(e,t=L,r){if(!H(e))return e;const s=q(e),i=s.toLowerCase(),a=q(t).toLowerCase().replace(/\/+$/,""),n=r?q(r).toLowerCase().replace(/\/+$/,""):null;if(n&&0!==a.indexOf(n))return e;const l=(e,t,r)=>-1===(r=e.indexOf(t,r))?e.length:r;let o=l(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,o+1)===a.slice(0,o)+"/"&&(c=o+1,o!==i.length);)o=l(i,"/",o+1);if(-1===c)return e;if(n&&c<n.length)return e;e=s.slice(c);const h=a.slice(c-1).replace(/[^/]+/g,"").length;if(h>0)for(let t=0;t<h;t++)e=`../${e}`;else e=`./${e}`;return e}function q(e){return function(e){const t=o.httpsDomains;if(!function(e){return p.test(e)||"http"===v.scheme&&Q(e)}(e))return e;const r=e.indexOf("/",7);let s;if(s=-1===r?e:e.slice(0,r),s=s.toLowerCase().slice(7),d.test(s)){if(!s.endsWith(":80"))return e;s=s.slice(0,-3),e=e.replace(":80","")}return"http"!==v.scheme||s!==v.authority||g.test(e)?((te()&&s===v.authority||t&&t.some((e=>s===e||s.endsWith(`.${e}`)))||te()&&!x(e))&&(e=ee(e)),e):e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=O(e);e=(e=t.path.replace(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=N(e=e.trim()))))}function D(...e){const t=e.filter(n.i);if(!t||!t.length)return;const r=[];if(H(t[0])){const e=t[0],i=e.indexOf("//");-1!==i&&(r.push(e.slice(0,i+1)),s=t[0],u.test(s)&&(r[0]+="/"),t[0]=e.slice(i+2))}else"/"===t[0][0]&&r.push("");var s;const i=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let e=0;e<i.length;e++){const t=i[e];".."===t&&r.length>0&&".."!==r[r.length-1]?r.pop():(!t&&e===i.length-1||t&&("."!==t||0===r.length))&&r.push(t)}return r.join("/")}function V(e,t=!1){if(P(e)||Z(e))return null;let r=e.indexOf("://");if(-1===r&&Q(e))r=2;else{if(-1===r)return null;r+=3}const s=e.indexOf("/",r);return-1!==s&&(e=e.slice(0,s)),t&&(e=re(e,!0)),e}function H(e){return Q(e)||Y(e)}function P(e){return null!=e&&"blob:"===e.slice(0,5)}function Z(e){return"data:"===e.slice(0,5)}function z(e){const t=J(e);if(!t||!t.isBase64)return null;const r=atob(t.data),s=new Uint8Array(r.length);for(let e=0;e<r.length;e++)s[e]=r.charCodeAt(e);return s.buffer}const F=/^data:(.*?)(;base64)?,(.*)$/;function J(e){const t=e.match(F);if(!t)return null;const[,r,s,i]=t;return{mediaType:r,isBase64:!!s,data:i}}function K(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function Q(e){return null!=e&&void 0!==e&&"/"===e[0]&&"/"===e[1]}function Y(e){return h.test(e)}function X(e){return y.test(e)||"https"===v.scheme&&Q(e)}function ee(e){return Q(e)?`https:${e}`:e.replace(p,"https:")}function te(){return"https"===v.scheme}function re(e,t=!1){return Q(e)?e.slice(2):(e=e.replace(h,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function se(e){let t=0;if(H(e)){const r=e.indexOf("//");-1!==r&&(t=r+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function ie(e,t){if(!e)return"";const r=S(e).path.replace(/\/+$/,""),s=r.substring(r.lastIndexOf("/")+1);if(null==t||!t.length)return s;const i=new RegExp(`.(${t.join("|")})$`,"ig");return s.replace(i,"")}function ae(e){return e.replace(/\/+$/,"")}function ne(e,t,r){if(!(t&&r&&e&&H(e)))return e;const s=e.indexOf("//"),i=e.indexOf("/",s+2),a=e.indexOf(":",s+2),n=Math.min(i<0?e.length:i,a<0?e.length:a);return e.slice(s+2,n).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,s+2)}${r}${e.slice(n)}`}function le(e){return"string"==typeof e?new b(N(e)):(e.scheme||(e.scheme=v.scheme),e)}function oe(e,t){const r=S(e),s=Object.keys(r.query||{});return s.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${s.join(", ")}.`),r.path}function ce(e,t,r){const s=S(e),i=s.query||{};return i[t]=String(r),`${s.path}?${M(i)}`}function he(e,t){const r=S(e),s=r.query||{};for(const e in t)s[e]=t[e];const i=M(s);return i?`${r.path}?${i}`:r.path}function pe(e){if((0,n.b)(e))return null;const t=e.match(ye);return t?t[1]:null}const ye=/.*?\.([^\/]*)$/},88762:(e,t,r)=>{r.d(t,{Dp:()=>p,rh:()=>a,id:()=>c,LB:()=>n,qh:()=>h,i8:()=>l,Nv:()=>o});var s=r(76506),i=r(32101);r(31450),r(71552),r(60991),r(92143),r(40642);const a="20211214",n="2f62aa11eb308d30278a805efbaca7231370b0d8",l="4.22",o={async request(e,t){var s;const{default:a}=await r.e(2058).then(r.bind(r,82058)).then((e=>e.r)),n=e.options,l=n.responseType;n.signal=null==t?void 0:t.signal,n.responseType="native"===l||"native-request-init"===l?"native-request-init":["blob","json","text"].includes(l)&&null!=(s=(0,i.oh)(e.url))&&s.after?l:"array-buffer";const o=await a(e.url,n),c={data:o.data,ssl:o.ssl};switch(o.requestOptions.responseType){case"native-request-init":return delete c.data.signal,c;case"blob":c.data=await c.data.arrayBuffer();break;case"json":c.data=(new TextEncoder).encode(JSON.stringify(c.data)).buffer;break;case"text":c.data=(new TextEncoder).encode(c.data).buffer}return{result:c,transferList:[c.data]}}};let c;function h(e){c=e}function p(e){const t=c&&c.findCredential(e);return t&&t.token?(0,i.ZN)(e,"token",t.token):e}(0,s.h)("host-webworker")||(console.debug(`Using ArcGIS API for JavaScript 4.22 [Date: 20211214, Revision: ${n.slice(0,8)}]`),console.warn("Only use ES modules from ArcGIS CDN for testing: https://arcg.is/1ii1Gb0"),((0,s.h)("edge")||(0,s.h)("trident"))&&console.warn("Deprecated browser - see http://esriurl.com/oldbrowser"))}}]);